openapi: 3.1.0
info:
  title: API Reference
  version: '1.0'
  description: Aira API Reference
  x-logo:
    url: https://static.useaira.com/images/airalogo.svg
    backgroundColor: '#FFFFFF'
    altText: Aira Logo
components:
  securitySchemes:
    ApiKey:
      type: apiKey
      description: API Key Authentication.
      name: X-API-KEY
      in: header
  schemas: {}
paths:
  /v1/customers/:
    post:
      summary: Create customer
      tags:
        - Customers
      description: This endpoint allows creating a new customer.
      requestBody:
        content:
          application/json:
            schema:
              type: object
              description: Schema representing a customer.
              properties:
                externalId:
                  description: >-
                    An optional external identifier of the customer from the
                    external system, used throughout the system to identify the
                    customer. This field can not be updated.
                  type: string
                  pattern: ^[a-zA-Z0-9_-]+$
                  example: cust_1234567890abcdef
                name:
                  description: The name of the customer.
                  type: string
                  example: Acme Inc.
                customFields:
                  type: object
                  description: >-
                    Custom fields that can be associated with the customer. The
                    fields must be previously created in the system before they
                    can be used.
                  additionalProperties:
                    type: string
                  example:
                    custom_field_1: value1
                    custom_field_2: value2
              required:
                - externalId
                - name
              additionalProperties: false
        required: true
        description: Schema representing a customer.
      x-expose-in-openapi: true
      responses:
        '201':
          description: >-
            The request was successfully processed, and the customer has been
            created. The response contains the details of the newly created
            customer.
          content:
            application/json:
              schema:
                type: object
                description: >-
                  The request was successfully processed, and the customer has
                  been created. The response contains the details of the newly
                  created customer.
                properties:
                  id:
                    description: The unique identifier of the customer in our system.
                    type: string
                  externalId:
                    description: >-
                      An optional external identifier of the customer from the
                      external system, used throughout the system to identify
                      the customer. This field can not be updated.
                    type: string
                    pattern: ^[a-zA-Z0-9_-]+$
                    example: cust_1234567890abcdef
                  name:
                    description: The name of the customer.
                    type: string
                    example: Acme Inc.
                  customFields:
                    type: object
                    description: >-
                      Custom fields that can be associated with the customer.
                      The fields must be previously created in the system before
                      they can be used.
                    additionalProperties:
                      type: string
                    example:
                      custom_field_1: value1
                      custom_field_2: value2
                required:
                  - id
                  - externalId
                  - name
                additionalProperties: false
        '400':
          description: >-
            Invalid request due to the external id belonging to a different
            customer or duplication found within the array of plan ids.
          content:
            application/json:
              schema:
                description: >-
                  Invalid request due to the external id belonging to a
                  different customer or duplication found within the array of
                  plan ids.
    get:
      summary: List customers
      tags:
        - Customers
      description: This endpoint allows fetching a list of customers.
      parameters:
        - schema:
            type: number
            default: 100
            minimum: 1
            maximum: 100
          in: query
          name: limit
          required: true
          description: The maximum number of customers to fetch.
        - schema:
            type: number
            default: 0
            minimum: 0
          in: query
          name: offset
          required: false
          description: The offset to start fetching customers from.
        - schema:
            type: string
          in: query
          name: search
          required: false
          description: A search query to filter customers by name or externalId.
      x-expose-in-openapi: true
      responses:
        '200':
          description: Default Response
          content:
            application/json:
              schema:
                type: object
                properties:
                  items:
                    type: array
                    items:
                      type: object
                      description: Schema representing a customer.
                      properties:
                        id:
                          description: The unique identifier of the customer in our system.
                          type: string
                        externalId:
                          description: >-
                            An optional external identifier of the customer from
                            the external system, used throughout the system to
                            identify the customer. This field can not be
                            updated.
                          type: string
                          pattern: ^[a-zA-Z0-9_-]+$
                          example: cust_1234567890abcdef
                        name:
                          description: The name of the customer.
                          type: string
                          example: Acme Inc.
                        customFields:
                          type: object
                          description: >-
                            Custom fields that can be associated with the
                            customer. The fields must be previously created in
                            the system before they can be used.
                          additionalProperties:
                            type: string
                          example:
                            custom_field_1: value1
                            custom_field_2: value2
                      required:
                        - id
                        - externalId
                        - name
                      additionalProperties: false
                    description: A list of customers.
                  hasMore:
                    type: boolean
                    description: Indicates if there are more customers to fetch.
                required:
                  - items
                  - hasMore
                additionalProperties: false
  /v1/customers/{id}:
    delete:
      summary: Delete customer
      tags:
        - Customers
      description: This endpoint allows deleting a customer by id.
      parameters:
        - schema:
            type: string
          in: path
          name: id
          required: true
          description: The unique identifier of the customer in our system.
      x-expose-in-openapi: true
      responses:
        '204':
          description: The request was successfully processed and the customer was deleted.
          content:
            application/json:
              schema:
                description: >-
                  The request was successfully processed and the customer was
                  deleted.
        '404':
          description: Customer not found.
          content:
            application/json:
              schema:
                description: Customer not found.
    put:
      summary: Update customer
      tags:
        - Customers
      description: This endpoint allows updating a customer by id.
      requestBody:
        content:
          application/json:
            schema:
              type: object
              description: Schema representing a customer.
              properties:
                name:
                  description: The name of the customer.
                  type: string
                  example: Acme Inc.
                customFields:
                  type: object
                  description: >-
                    Custom fields that can be associated with the customer. The
                    fields must be previously created in the system before they
                    can be used.
                  additionalProperties:
                    type: string
                  example:
                    custom_field_1: value1
                    custom_field_2: value2
              required:
                - name
              additionalProperties: false
        required: true
        description: Schema representing a customer.
      parameters:
        - schema:
            type: string
          in: path
          name: id
          required: true
          description: The unique identifier of the customer in our system.
      x-expose-in-openapi: true
      responses:
        '200':
          description: >-
            The request was successfully processed, and the customer has been
            updated. The response contains the details of the updated customer.
          content:
            application/json:
              schema:
                type: object
                description: >-
                  The request was successfully processed, and the customer has
                  been updated. The response contains the details of the updated
                  customer.
                properties:
                  id:
                    description: The unique identifier of the customer in our system.
                    type: string
                  externalId:
                    description: >-
                      An optional external identifier of the customer from the
                      external system, used throughout the system to identify
                      the customer. This field can not be updated.
                    type: string
                    pattern: ^[a-zA-Z0-9_-]+$
                    example: cust_1234567890abcdef
                  name:
                    description: The name of the customer.
                    type: string
                    example: Acme Inc.
                  customFields:
                    type: object
                    description: >-
                      Custom fields that can be associated with the customer.
                      The fields must be previously created in the system before
                      they can be used.
                    additionalProperties:
                      type: string
                    example:
                      custom_field_1: value1
                      custom_field_2: value2
                required:
                  - id
                  - externalId
                  - name
                additionalProperties: false
        '404':
          description: Customer not found.
          content:
            application/json:
              schema:
                description: Customer not found.
    get:
      summary: Fetch customer
      tags:
        - Customers
      description: This endpoint allows fetching a customer by id.
      parameters:
        - schema:
            type: string
          in: path
          name: id
          required: true
          description: The unique identifier of the customer in our system.
      x-expose-in-openapi: true
      responses:
        '200':
          description: >-
            The request was successfully processed and the customer information
            is returned.
          content:
            application/json:
              schema:
                type: object
                description: >-
                  The request was successfully processed and the customer
                  information is returned.
                properties:
                  id:
                    description: The unique identifier of the customer in our system.
                    type: string
                  externalId:
                    description: >-
                      An optional external identifier of the customer from the
                      external system, used throughout the system to identify
                      the customer. This field can not be updated.
                    type: string
                    pattern: ^[a-zA-Z0-9_-]+$
                    example: cust_1234567890abcdef
                  name:
                    description: The name of the customer.
                    type: string
                    example: Acme Inc.
                  customFields:
                    type: object
                    description: >-
                      Custom fields that can be associated with the customer.
                      The fields must be previously created in the system before
                      they can be used.
                    additionalProperties:
                      type: string
                    example:
                      custom_field_1: value1
                      custom_field_2: value2
                required:
                  - id
                  - externalId
                  - name
                additionalProperties: false
        '404':
          description: Customer not found.
          content:
            application/json:
              schema:
                description: Customer not found.
  /v1/customers/by-external-id/{externalId}:
    delete:
      summary: Delete customer by external ID
      tags:
        - Customers
      description: This endpoint allows deleting a customer by external ID.
      parameters:
        - schema:
            type: string
            pattern: ^[a-zA-Z0-9_-]+$
          example: cust_1234567890abcdef
          in: path
          name: externalId
          required: true
          description: >-
            An optional external identifier of the customer from the external
            system, used throughout the system to identify the customer. This
            field can not be updated.
      x-expose-in-openapi: true
      responses:
        '204':
          description: The request was successfully processed and the customer was deleted.
          content:
            application/json:
              schema:
                description: >-
                  The request was successfully processed and the customer was
                  deleted.
        '404':
          description: Customer not found.
          content:
            application/json:
              schema:
                description: Customer not found.
    put:
      summary: Update customer by external ID
      tags:
        - Customers
      description: This endpoint allows updating a customer by external ID.
      requestBody:
        content:
          application/json:
            schema:
              type: object
              description: Schema representing a customer.
              properties:
                name:
                  description: The name of the customer.
                  type: string
                  example: Acme Inc.
                customFields:
                  type: object
                  description: >-
                    Custom fields that can be associated with the customer. The
                    fields must be previously created in the system before they
                    can be used.
                  additionalProperties:
                    type: string
                  example:
                    custom_field_1: value1
                    custom_field_2: value2
              required:
                - name
              additionalProperties: false
        required: true
        description: Schema representing a customer.
      parameters:
        - schema:
            type: string
            pattern: ^[a-zA-Z0-9_-]+$
          example: cust_1234567890abcdef
          in: path
          name: externalId
          required: true
          description: >-
            An optional external identifier of the customer from the external
            system, used throughout the system to identify the customer. This
            field can not be updated.
      x-expose-in-openapi: true
      responses:
        '200':
          description: >-
            The request was successfully processed, and the customer has been
            updated. The response contains the details of the updated customer.
          content:
            application/json:
              schema:
                type: object
                description: >-
                  The request was successfully processed, and the customer has
                  been updated. The response contains the details of the updated
                  customer.
                properties:
                  id:
                    description: The unique identifier of the customer in our system.
                    type: string
                  externalId:
                    description: >-
                      An optional external identifier of the customer from the
                      external system, used throughout the system to identify
                      the customer. This field can not be updated.
                    type: string
                    pattern: ^[a-zA-Z0-9_-]+$
                    example: cust_1234567890abcdef
                  name:
                    description: The name of the customer.
                    type: string
                    example: Acme Inc.
                  customFields:
                    type: object
                    description: >-
                      Custom fields that can be associated with the customer.
                      The fields must be previously created in the system before
                      they can be used.
                    additionalProperties:
                      type: string
                    example:
                      custom_field_1: value1
                      custom_field_2: value2
                required:
                  - id
                  - externalId
                  - name
                additionalProperties: false
        '404':
          description: Customer not found.
          content:
            application/json:
              schema:
                description: Customer not found.
    get:
      summary: Fetch customer by external ID
      tags:
        - Customers
      description: This endpoint allows fetching a customer by external ID.
      parameters:
        - schema:
            type: string
            pattern: ^[a-zA-Z0-9_-]+$
          example: cust_1234567890abcdef
          in: path
          name: externalId
          required: true
          description: >-
            An optional external identifier of the customer from the external
            system, used throughout the system to identify the customer. This
            field can not be updated.
      x-expose-in-openapi: true
      responses:
        '200':
          description: >-
            The request was successfully processed and the customer information
            is returned.
          content:
            application/json:
              schema:
                type: object
                description: >-
                  The request was successfully processed and the customer
                  information is returned.
                properties:
                  id:
                    description: The unique identifier of the customer in our system.
                    type: string
                  externalId:
                    description: >-
                      An optional external identifier of the customer from the
                      external system, used throughout the system to identify
                      the customer. This field can not be updated.
                    type: string
                    pattern: ^[a-zA-Z0-9_-]+$
                    example: cust_1234567890abcdef
                  name:
                    description: The name of the customer.
                    type: string
                    example: Acme Inc.
                  customFields:
                    type: object
                    description: >-
                      Custom fields that can be associated with the customer.
                      The fields must be previously created in the system before
                      they can be used.
                    additionalProperties:
                      type: string
                    example:
                      custom_field_1: value1
                      custom_field_2: value2
                required:
                  - id
                  - externalId
                  - name
                additionalProperties: false
        '404':
          description: Customer not found.
          content:
            application/json:
              schema:
                description: Customer not found.
  /v1/events/ingest:
    post:
      summary: Ingest events
      tags:
        - Events
      description: >-
        This endpoint allows ingesting events related to customer interactions
        with resources. Each event captures interactions at a specific point in
        time, including the event name and customer, the nature of the
        interaction (value), related properties and when it occurred.
      requestBody:
        content:
          application/json:
            schema:
              type: object
              description: An object containing an array of events to be ingested.
              properties:
                events:
                  description: >-
                    An array of events to be ingested. Each event represents an
                    usage of a resource from a customer at a specific point in
                    time.
                  type: array
                  items:
                    type: object
                    description: Schema defining an event.
                    properties:
                      idempotencyKey:
                        type: string
                        pattern: ^[a-zA-Z0-9_-]+$
                        description: >-
                          Unique key to ensure idempotency of the event. This
                          key is used to prevent duplicate events from being
                          recorded.
                        example: 123e4567-e89b-12d3-a456-426614174000
                      eventName:
                        type: string
                        pattern: ^[a-zA-Z0-9_-]+$
                        description: >-
                          Identifier of the event. Used on the resource
                          definition.
                        example: api_request
                      customerExternalId:
                        type: string
                        pattern: ^[a-zA-Z0-9_-]+$
                        description: >-
                          External identifier of the customer involved in the
                          event.
                        example: cust_1234567890abcdef
                      properties:
                        type: object
                        description: >-
                          A dictionary of additional properties associated with
                          the event.
                        propertyNames:
                          pattern: ^[a-zA-Z](?:[a-zA-Z0-9]*|(?:_[a-zA-Z0-9]+))*$
                        required:
                          - value
                        properties:
                          value:
                            type: number
                            minimum: 0
                            example: 3600
                        additionalProperties:
                          anyOf:
                            - type: number
                            - type: string
                            - type: boolean
                        example:
                          value: 3600
                          endpoint: /api/v1/users
                          method: GET
                          status_code: 200
                      occurredAt:
                        type: string
                        format: date-time
                        description: >-
                          ISO 8601 timestamp in UTC (no timezone offset)
                          indicating when the event occurred.
                        example: '2024-01-01T12:00:00Z'
                    required:
                      - idempotencyKey
                      - eventName
                      - customerExternalId
                      - properties
                      - occurredAt
                    additionalProperties: false
                  minItems: 1
                  maxItems: 1000
              required:
                - events
              additionalProperties: false
        required: true
        description: An object containing an array of events to be ingested.
      x-expose-in-openapi: true
      responses:
        '204':
          description: >-
            The request was successfully processed and the events were recorded.
            No content is returned.
          content:
            application/json:
              schema:
                description: >-
                  The request was successfully processed and the events were
                  recorded. No content is returned.
                additionalProperties: false
                type: object
        '400':
          description: >-
            Invalid request due to incorrect data or all events could not be
            processed successfully, so none have been recorded. This response
            includes details on which events failed and why, to aid in
            correcting and resubmitting the events.
          content:
            application/json:
              schema:
                type: object
                description: >-
                  Invalid request due to incorrect data or all events could not
                  be processed successfully, so none have been recorded. This
                  response includes details on which events failed and why, to
                  aid in correcting and resubmitting the events.
                properties:
                  message:
                    type: string
                    description: >-
                      Human-readable error message explaining why the ingestion
                      failed.
                  code:
                    type: string
                    description: Error code identifying the type of failure.
                  details:
                    type: array
                    description: List of failed events and their specific errors.
                    items:
                      type: object
                      properties:
                        idempotencyKey:
                          type: string
                          description: The idempotency key of the failed event.
                        errors:
                          type: array
                          description: List of errors associated with this event.
                          items:
                            type: object
                            properties:
                              code:
                                type: string
                                description: Specific error code for this failure.
                                enum:
                                  - future_occurred_at
                                  - duplicated_idempotency_key
                                  - failed_on_previous_event_creation
                              message:
                                type: string
                                description: Human-readable error message.
                            required:
                              - code
                              - message
                      additionalProperties: true
                required:
                  - message
                  - code
                additionalProperties: false
  /v1/invoices/:
    get:
      summary: List invoices
      tags:
        - Invoices
      description: >-
        This endpoint allows fetching a list of invoices based on customerId,
        customerExternalId, invoiceStartDateFrom, invoiceStartDateTo, 
        invoiceEndDateFrom, and invoiceEndDateTo. The response will include a
        list of invoices that match the provided filters. It also returns, if
        available, a `pix` and `bank_slip` URL for each invoice, which expires
        after 15 minutes.
      parameters:
        - schema:
            type: string
            format: date
          in: query
          name: startDateFrom
          required: false
          description: >-
            Filter invoices by the start date of the billing cycle. The date
            must be in ISO 8601 format.
        - schema:
            type: string
            format: date
          in: query
          name: startDateTo
          required: false
          description: >-
            Filter invoices by the end date of the billing cycle. The date must
            be in ISO 8601 format.
        - schema:
            type: string
            format: date
          in: query
          name: endDateFrom
          required: false
          description: >-
            Filter invoices by the end date of the billing cycle. The date must
            be in ISO 8601 format.
        - schema:
            type: string
            format: date
          in: query
          name: endDateTo
          required: false
          description: >-
            Filter invoices by the end date of the billing cycle. The date must
            be in ISO 8601 format.
        - schema:
            type: string
            format: uuid
          in: query
          name: customerId
          required: false
          description: The internal unique identifier of the customer.
        - schema:
            type: string
          in: query
          name: externalCustomerId
          required: false
          description: >-
            The external unique identifier of the customer provided by the
            tenant.
      x-expose-in-openapi: true
      responses:
        '200':
          description: >-
            The request was successfully processed and the list of invoices is
            returned.
          content:
            application/json:
              schema:
                type: array
                items:
                  type: object
                  properties:
                    id:
                      type: string
                      format: uuid
                      description: The unique identifier of the invoice.
                    displayId:
                      type: string
                      description: The human-readable identifier of the invoice.
                    customer:
                      type: object
                      description: The customer associated with this invoice.
                      properties:
                        id:
                          description: The unique identifier of the customer in our system.
                          type: string
                        externalId:
                          description: >-
                            An optional external identifier of the customer from
                            the external system, used throughout the system to
                            identify the customer. This field can not be
                            updated.
                          type: string
                          pattern: ^[a-zA-Z0-9_-]+$
                          example: cust_1234567890abcdef
                        name:
                          description: The name of the customer.
                          type: string
                          example: Acme Inc.
                        customFields:
                          type: object
                          description: >-
                            Custom fields that can be associated with the
                            customer. The fields must be previously created in
                            the system before they can be used.
                          additionalProperties:
                            type: string
                          example:
                            custom_field_1: value1
                            custom_field_2: value2
                      required:
                        - id
                        - externalId
                        - name
                      additionalProperties: false
                    paymentAccount:
                      description: The payment account used for this invoice.
                      type: object
                      properties:
                        id:
                          type: string
                          format: uuid
                          description: The unique identifier of the payment account.
                        businessName:
                          type: string
                          minLength: 1
                          description: >-
                            The legal business name of the payment account
                            holder.
                        tradeName:
                          type: string
                          minLength: 1
                          nullable: true
                          description: >-
                            The trade or "doing business as" name of the payment
                            account holder.
                        taxId:
                          type: string
                          pattern: ^\d{14}$
                          description: >-
                            The tax identification number (CNPJ) of the payment
                            account holder.
                        email:
                          type: string
                          format: email
                          nullable: true
                          description: The contact email address for the payment account.
                        address:
                          type: object
                          properties:
                            zipCode:
                              type: string
                              minLength: 8
                              maxLength: 8
                              pattern: ^[0-9]{8}$
                              description: The postal code (CEP) of the address.
                            number:
                              type: string
                              minLength: 1
                              description: The street number of the address.
                            street:
                              type: string
                              minLength: 1
                              description: The street name of the address.
                            neighborhood:
                              type: string
                              minLength: 1
                              description: The neighborhood or district of the address.
                            city:
                              type: string
                              minLength: 1
                              description: The city name of the address.
                            state:
                              type: string
                              enum:
                                - AC
                                - AL
                                - AP
                                - AM
                                - BA
                                - CE
                                - DF
                                - ES
                                - GO
                                - MA
                                - MT
                                - MS
                                - MG
                                - PA
                                - PB
                                - PR
                                - PE
                                - PI
                                - RJ
                                - RN
                                - RS
                                - RO
                                - RR
                                - SC
                                - SP
                                - SE
                                - TO
                              description: The state abbreviation of the address.
                            country:
                              type: string
                              enum:
                                - Brasil
                              description: The country code of the address.
                            complement:
                              type: string
                              nullable: true
                              description: >-
                                Additional address information like apartment
                                number, floor, etc.
                          required:
                            - zipCode
                            - number
                            - street
                            - neighborhood
                            - city
                            - state
                            - country
                            - complement
                          additionalProperties: false
                          nullable: true
                          description: >-
                            The physical address associated with the payment
                            account.
                      required:
                        - id
                        - businessName
                        - tradeName
                        - taxId
                        - email
                        - address
                      additionalProperties: false
                    contract:
                      description: The contract associated with this invoice.
                      type: object
                      properties:
                        id:
                          type: string
                          format: uuid
                          description: Unique identifier for the contract.
                        startDate:
                          type: string
                          format: date
                          description: Date when the contract becomes active.
                        endDate:
                          type: string
                          format: date
                          nullable: true
                          description: >-
                            Optional date when the contract expires. If null,
                            the contract has no end date.
                        billingEndDay:
                          type: number
                          minimum: 1
                          maximum: 31
                          description: Day of the month when the billing cycle ends (1-31).
                        status:
                          type: string
                          enum:
                            - active
                            - canceled
                            - completed
                            - draft
                          description: Current status of the contract.
                        paymentSettings:
                          type: object
                          description: >-
                            Schema defining payment gateway settings for a
                            contract. Required if payment gateway is enabled.
                          properties:
                            scheduledPaymentDay:
                              type: number
                              minimum: 1
                              maximum: 31
                              description: >-
                                The specific day of the month when the payment
                                will be scheduled. For example, a value of 1
                                means the payment will be scheduled on the 1st
                                day of the month. A value of 31 represents the
                                last day of the month, regardless of whether the
                                month has 28, 30, or 31 days.
                            dueOffsetDays:
                              type: number
                              minimum: 5
                              description: >-
                                Number of days after the payment start date
                                until payment is due (minimum of 5 days).
                          required:
                            - scheduledPaymentDay
                            - dueOffsetDays
                          additionalProperties: false
                          nullable: true
                        billingSettings:
                          type: object
                          properties:
                            billingCycleMinimumAmount:
                              type: number
                              minimum: 0
                              description: Minimum amount to be charged in a billing cycle.
                          required:
                            - billingCycleMinimumAmount
                          additionalProperties: false
                          description: Contract billing settings.
                        customFields:
                          type: object
                          description: >-
                            Custom fields that can be associated with the
                            contract. The fields must be previously created in
                            the system before they can be used.
                          additionalProperties:
                            type: string
                      required:
                        - id
                        - startDate
                        - endDate
                        - billingEndDay
                        - status
                        - paymentSettings
                        - billingSettings
                      additionalProperties: false
                    startDate:
                      type: string
                      format: date
                      description: The start date of the billing period.
                    endDate:
                      type: string
                      format: date
                      description: The end date of the billing period.
                    totalAmount:
                      type: number
                      minimum: 0
                      description: The total amount to be paid for this invoice.
                    closedReason:
                      type: string
                      enum:
                        - end_of_cycle
                        - billing_end_day_updated
                      nullable: true
                      description: The reason why the billing cycle was closed.
                    payments:
                      type: array
                      items:
                        type: object
                        properties:
                          id:
                            type: string
                            format: uuid
                          amount:
                            type: number
                          dueDate:
                            type: string
                            format: date
                          createdAt:
                            type: string
                            format: date-time
                          processedAt:
                            type: string
                            format: date-time
                            nullable: true
                          paymentMethod:
                            type: string
                            enum:
                              - bolepix
                              - bank_slip
                              - pix
                            nullable: true
                          status:
                            type: string
                            enum:
                              - created
                              - pending
                              - paid
                              - failed
                              - canceled
                              - expired
                          pixLink:
                            type: string
                            nullable: true
                          bankSlipLink:
                            type: string
                            nullable: true
                        required:
                          - id
                          - amount
                          - dueDate
                          - createdAt
                          - processedAt
                          - paymentMethod
                          - status
                          - pixLink
                          - bankSlipLink
                        additionalProperties: false
                      nullable: true
                      description: List of payments associated with this invoice.
                    status:
                      type: string
                      enum:
                        - open
                        - closed
                        - paid
                        - canceled
                      description: The current status of the invoice.
                  required:
                    - id
                    - displayId
                    - customer
                    - paymentAccount
                    - payments
                    - startDate
                    - endDate
                    - totalAmount
                    - closedReason
                    - status
                  additionalProperties: false
                description: >-
                  The request was successfully processed and the list of
                  invoices is returned.
        '400':
          description: Error object returned to the client.
          content:
            application/json:
              schema:
                description: Error object returned to the client.
                type: object
                properties:
                  message:
                    type: string
                    description: A human-readable description of the error
                  code:
                    type: string
                    description: A unique identifier for the type of error
                  details:
                    oneOf:
                      - type: object
                      - type: array
                    description: >-
                      Additional context about the error, such as invalid fields
                      or constraints. Each endpoint may include specific error
                      details in their documentation
                  causations:
                    type: array
                    description: >-
                      Optional array of error objects following the same
                      structure as the parent error. Only present when there's a
                      meaningful chain of related errors to expose
                    items:
                      type: object
                      properties:
                        message:
                          type: string
                          description: >-
                            A human-readable description of the underlying error
                            cause
                        code:
                          type: string
                          description: A unique identifier for the type of underlying error
                        details:
                          type: object
                          description: Additional context about the underlying error
                      required:
                        - message
                        - code
                      additionalProperties: false
                required:
                  - code
                  - message
                additionalProperties: false
  /v1/invoices/{id}:
    get:
      summary: Fetch invoice
      tags:
        - Invoices
      description: >-
        This endpoint allows fetching an invoice by id. It also returns, if
        available, a `pix` and `bank_slip` URL for each invoice, which expires
        after 15 minutes.
      parameters:
        - schema:
            type: string
            format: uuid
          in: path
          name: id
          required: true
          description: The invoice id.
      x-expose-in-openapi: true
      responses:
        '200':
          description: The request was successfully processed and the invoice is returned.
          content:
            application/json:
              schema:
                type: object
                properties:
                  id:
                    type: string
                    format: uuid
                    description: The unique identifier of the invoice.
                  displayId:
                    type: string
                    description: The human-readable identifier of the invoice.
                  customer:
                    type: object
                    description: The customer associated with this invoice.
                    properties:
                      id:
                        description: The unique identifier of the customer in our system.
                        type: string
                      externalId:
                        description: >-
                          An optional external identifier of the customer from
                          the external system, used throughout the system to
                          identify the customer. This field can not be updated.
                        type: string
                        pattern: ^[a-zA-Z0-9_-]+$
                        example: cust_1234567890abcdef
                      name:
                        description: The name of the customer.
                        type: string
                        example: Acme Inc.
                      customFields:
                        type: object
                        description: >-
                          Custom fields that can be associated with the
                          customer. The fields must be previously created in the
                          system before they can be used.
                        additionalProperties:
                          type: string
                        example:
                          custom_field_1: value1
                          custom_field_2: value2
                    required:
                      - id
                      - externalId
                      - name
                    additionalProperties: false
                  paymentAccount:
                    description: The payment account used for this invoice.
                    type: object
                    properties:
                      id:
                        type: string
                        format: uuid
                        description: The unique identifier of the payment account.
                      businessName:
                        type: string
                        minLength: 1
                        description: The legal business name of the payment account holder.
                      tradeName:
                        type: string
                        minLength: 1
                        nullable: true
                        description: >-
                          The trade or "doing business as" name of the payment
                          account holder.
                      taxId:
                        type: string
                        pattern: ^\d{14}$
                        description: >-
                          The tax identification number (CNPJ) of the payment
                          account holder.
                      email:
                        type: string
                        format: email
                        nullable: true
                        description: The contact email address for the payment account.
                      address:
                        type: object
                        properties:
                          zipCode:
                            type: string
                            minLength: 8
                            maxLength: 8
                            pattern: ^[0-9]{8}$
                            description: The postal code (CEP) of the address.
                          number:
                            type: string
                            minLength: 1
                            description: The street number of the address.
                          street:
                            type: string
                            minLength: 1
                            description: The street name of the address.
                          neighborhood:
                            type: string
                            minLength: 1
                            description: The neighborhood or district of the address.
                          city:
                            type: string
                            minLength: 1
                            description: The city name of the address.
                          state:
                            type: string
                            enum:
                              - AC
                              - AL
                              - AP
                              - AM
                              - BA
                              - CE
                              - DF
                              - ES
                              - GO
                              - MA
                              - MT
                              - MS
                              - MG
                              - PA
                              - PB
                              - PR
                              - PE
                              - PI
                              - RJ
                              - RN
                              - RS
                              - RO
                              - RR
                              - SC
                              - SP
                              - SE
                              - TO
                            description: The state abbreviation of the address.
                          country:
                            type: string
                            enum:
                              - Brasil
                            description: The country code of the address.
                          complement:
                            type: string
                            nullable: true
                            description: >-
                              Additional address information like apartment
                              number, floor, etc.
                        required:
                          - zipCode
                          - number
                          - street
                          - neighborhood
                          - city
                          - state
                          - country
                          - complement
                        additionalProperties: false
                        nullable: true
                        description: >-
                          The physical address associated with the payment
                          account.
                    required:
                      - id
                      - businessName
                      - tradeName
                      - taxId
                      - email
                      - address
                    additionalProperties: false
                  contract:
                    description: The contract associated with this invoice.
                    type: object
                    properties:
                      id:
                        type: string
                        format: uuid
                        description: Unique identifier for the contract.
                      startDate:
                        type: string
                        format: date
                        description: Date when the contract becomes active.
                      endDate:
                        type: string
                        format: date
                        nullable: true
                        description: >-
                          Optional date when the contract expires. If null, the
                          contract has no end date.
                      billingEndDay:
                        type: number
                        minimum: 1
                        maximum: 31
                        description: Day of the month when the billing cycle ends (1-31).
                      status:
                        type: string
                        enum:
                          - active
                          - canceled
                          - completed
                          - draft
                        description: Current status of the contract.
                      paymentSettings:
                        type: object
                        description: >-
                          Schema defining payment gateway settings for a
                          contract. Required if payment gateway is enabled.
                        properties:
                          scheduledPaymentDay:
                            type: number
                            minimum: 1
                            maximum: 31
                            description: >-
                              The specific day of the month when the payment
                              will be scheduled. For example, a value of 1 means
                              the payment will be scheduled on the 1st day of
                              the month. A value of 31 represents the last day
                              of the month, regardless of whether the month has
                              28, 30, or 31 days.
                          dueOffsetDays:
                            type: number
                            minimum: 5
                            description: >-
                              Number of days after the payment start date until
                              payment is due (minimum of 5 days).
                        required:
                          - scheduledPaymentDay
                          - dueOffsetDays
                        additionalProperties: false
                        nullable: true
                      billingSettings:
                        type: object
                        properties:
                          billingCycleMinimumAmount:
                            type: number
                            minimum: 0
                            description: Minimum amount to be charged in a billing cycle.
                        required:
                          - billingCycleMinimumAmount
                        additionalProperties: false
                        description: Contract billing settings.
                      customFields:
                        type: object
                        description: >-
                          Custom fields that can be associated with the
                          contract. The fields must be previously created in the
                          system before they can be used.
                        additionalProperties:
                          type: string
                    required:
                      - id
                      - startDate
                      - endDate
                      - billingEndDay
                      - status
                      - paymentSettings
                      - billingSettings
                    additionalProperties: false
                  startDate:
                    type: string
                    format: date
                    description: The start date of the billing period.
                  endDate:
                    type: string
                    format: date
                    description: The end date of the billing period.
                  totalAmount:
                    type: number
                    minimum: 0
                    description: The total amount to be paid for this invoice.
                  closedReason:
                    type: string
                    enum:
                      - end_of_cycle
                      - billing_end_day_updated
                    nullable: true
                    description: The reason why the billing cycle was closed.
                  payments:
                    type: array
                    items:
                      type: object
                      properties:
                        id:
                          type: string
                          format: uuid
                        amount:
                          type: number
                        dueDate:
                          type: string
                          format: date
                        createdAt:
                          type: string
                          format: date-time
                        processedAt:
                          type: string
                          format: date-time
                          nullable: true
                        paymentMethod:
                          type: string
                          enum:
                            - bolepix
                            - bank_slip
                            - pix
                          nullable: true
                        status:
                          type: string
                          enum:
                            - created
                            - pending
                            - paid
                            - failed
                            - canceled
                            - expired
                        pixLink:
                          type: string
                          nullable: true
                        bankSlipLink:
                          type: string
                          nullable: true
                      required:
                        - id
                        - amount
                        - dueDate
                        - createdAt
                        - processedAt
                        - paymentMethod
                        - status
                        - pixLink
                        - bankSlipLink
                      additionalProperties: false
                    nullable: true
                    description: List of payments associated with this invoice.
                  status:
                    type: string
                    enum:
                      - open
                      - closed
                      - paid
                      - canceled
                    description: The current status of the invoice.
                  plans:
                    type: array
                    items:
                      type: object
                      description: Plan schema defining core plan properties.
                      properties:
                        id:
                          type: string
                          format: uuid
                          description: The unique identifier for this plan.
                        name:
                          type: string
                          minLength: 1
                          description: The name of the plan.
                        description:
                          type: string
                          nullable: true
                          description: Optional description of the plan.
                        productId:
                          type: string
                          format: uuid
                          description: The ID of the product this plan is associated with.
                        product:
                          type: object
                          description: The product associated with this plan.
                          properties:
                            id:
                              type: string
                              format: uuid
                              description: The unique identifier for this product.
                            name:
                              type: string
                              minLength: 1
                              description: The name of the product.
                          required:
                            - id
                            - name
                          additionalProperties: false
                        planSettings:
                          type: object
                          description: Settings configuration for this plan.
                          properties:
                            id:
                              type: string
                              format: uuid
                              description: The plan settings id.
                            fixedAmount:
                              type: number
                              minimum: 0
                              description: The fixed cost amount for this plan.
                            minimumAmount:
                              type: number
                              minimum: 0
                              description: The minimum cost amount for this plan.
                          required:
                            - id
                            - fixedAmount
                            - minimumAmount
                        metrics:
                          type: array
                          items:
                            anyOf:
                              - type: object
                                description: Invoice in full metric schema.
                                properties:
                                  id:
                                    type: string
                                    format: uuid
                                    description: The unique identifier for this metric.
                                  resourceId:
                                    type: string
                                    format: uuid
                                    description: >-
                                      The ID of the resource this metric is
                                      associated with.
                                  currencyUnitId:
                                    type: string
                                    format: uuid
                                    description: >-
                                      The ID of the currency unit this metric is
                                      associated with.
                                  name:
                                    type: string
                                    minLength: 1
                                    description: The name of the metric.
                                  billingModel:
                                    type: string
                                    description: The billing model type, set to InFull.
                                    enum:
                                      - in_full
                                  priceTierDivision:
                                    type: string
                                    enum:
                                      - unique_tier
                                      - progressive
                                    description: >-
                                      The price tier division method for this
                                      metric.
                                  fixedAmount:
                                    type: number
                                    minimum: 0
                                    description: The fixed cost amount for this metric.
                                  minimumAmount:
                                    type: number
                                    minimum: 0
                                    description: The minimum cost amount for this metric.
                                  resourceName:
                                    type: string
                                    minLength: 1
                                    description: The name of the resource.
                                  resourceType:
                                    type: string
                                    enum:
                                      - unit
                                      - currency
                                    description: The resource type.
                                  currencyUnit:
                                    type: object
                                    properties:
                                      id:
                                        type: string
                                      name:
                                        type: string
                                      code:
                                        type: string
                                    required:
                                      - id
                                      - name
                                      - code
                                    additionalProperties: false
                                  priceTiers:
                                    type: array
                                    items:
                                      type: object
                                      description: Price tier configuration for a metric.
                                      properties:
                                        id:
                                          type: string
                                          format: uuid
                                          description: >-
                                            The unique identifier for this price
                                            tier.
                                        billingType:
                                          type: string
                                          enum:
                                            - unit
                                            - package
                                            - flat
                                            - basis_points
                                          description: The billing type for this price tier.
                                        from:
                                          type: number
                                          minimum: 1
                                          description: The starting value for this price tier.
                                        to:
                                          type: number
                                          nullable: true
                                          minimum: 1
                                          description: >-
                                            The ending value for this price tier.
                                            Null indicates no upper bound.
                                        packageSize:
                                          type: number
                                          nullable: true
                                          minimum: 1
                                          description: >-
                                            The package size for package-based
                                            billing. Null if not package-based.
                                        price:
                                          type: string
                                          nullable: true
                                          pattern: ^\d+(\.\d{1,6})?$
                                          description: >-
                                            The price for this tier in decimal
                                            format.
                                        fixedPrice:
                                          type: string
                                          nullable: true
                                          pattern: ^\d+(\.\d{1,6})?$
                                          description: >-
                                            The fixed price for this tier in decimal
                                            format.
                                        basisPoints:
                                          type: number
                                          nullable: true
                                          description: >-
                                            The basis points associated with this
                                            price tier in decimal format
                                          minimum: 0
                                        totalAmount:
                                          type: number
                                          minimum: 0
                                          description: The total amount for this price tier.
                                        usage:
                                          type: number
                                          minimum: 0
                                          description: The usage amount for this price tier.
                                      required:
                                        - id
                                        - billingType
                                        - from
                                        - to
                                        - packageSize
                                        - price
                                        - fixedPrice
                                        - basisPoints
                                        - totalAmount
                                        - usage
                                    description: List of price tiers for this metric.
                                  totalAmount:
                                    type: number
                                    minimum: 0
                                    description: The total amount for this metric.
                                required:
                                  - id
                                  - resourceId
                                  - currencyUnitId
                                  - name
                                  - fixedAmount
                                  - minimumAmount
                                  - billingModel
                                  - priceTierDivision
                                  - resourceName
                                  - resourceType
                                  - priceTiers
                                  - totalAmount
                              - type: object
                                description: Invoice proration metric schema.
                                properties:
                                  id:
                                    type: string
                                    format: uuid
                                    description: The unique identifier for this metric.
                                  resourceId:
                                    type: string
                                    format: uuid
                                    description: >-
                                      The ID of the resource this metric is
                                      associated with.
                                  currencyUnitId:
                                    type: string
                                    format: uuid
                                    description: >-
                                      The ID of the currency unit this metric is
                                      associated with.
                                  name:
                                    type: string
                                    minLength: 1
                                    description: The name of the metric.
                                  billingModel:
                                    type: string
                                    description: The billing model type, set to Proration.
                                    enum:
                                      - proration
                                  priceTierDivision:
                                    type: string
                                    enum:
                                      - unique_tier
                                      - progressive
                                    description: >-
                                      The price tier division method for this
                                      metric.
                                  fixedAmount:
                                    type: number
                                    minimum: 0
                                    description: The fixed cost amount for this metric.
                                  minimumAmount:
                                    type: number
                                    minimum: 0
                                    description: The minimum cost amount for this metric.
                                  resourceName:
                                    type: string
                                    minLength: 1
                                    description: The name of the resource.
                                  resourceType:
                                    type: string
                                    enum:
                                      - unit
                                      - currency
                                    description: The resource type.
                                  currencyUnit:
                                    type: object
                                    properties:
                                      id:
                                        type: string
                                      name:
                                        type: string
                                      code:
                                        type: string
                                    required:
                                      - id
                                      - name
                                      - code
                                    additionalProperties: false
                                  totalAmount:
                                    type: number
                                    minimum: 0
                                    description: The total amount for this metric.
                                  priceTiers:
                                    type: array
                                    items:
                                      type: object
                                      description: Price tier configuration for a metric.
                                      properties:
                                        id:
                                          type: string
                                          format: uuid
                                          description: >-
                                            The unique identifier for this price
                                            tier.
                                        billingType:
                                          type: string
                                          enum:
                                            - unit
                                            - package
                                            - flat
                                            - basis_points
                                          description: The billing type for this price tier.
                                        from:
                                          type: number
                                          minimum: 1
                                          description: The starting value for this price tier.
                                        to:
                                          type: number
                                          nullable: true
                                          minimum: 1
                                          description: >-
                                            The ending value for this price tier.
                                            Null indicates no upper bound.
                                        packageSize:
                                          type: number
                                          nullable: true
                                          minimum: 1
                                          description: >-
                                            The package size for package-based
                                            billing. Null if not package-based.
                                        price:
                                          type: string
                                          nullable: true
                                          pattern: ^\d+(\.\d{1,6})?$
                                          description: >-
                                            The price for this tier in decimal
                                            format.
                                        fixedPrice:
                                          type: string
                                          nullable: true
                                          pattern: ^\d+(\.\d{1,6})?$
                                          description: >-
                                            The fixed price for this tier in decimal
                                            format.
                                        basisPoints:
                                          type: number
                                          nullable: true
                                          description: >-
                                            The basis points associated with this
                                            price tier in decimal format
                                          minimum: 0
                                      required:
                                        - id
                                        - billingType
                                        - from
                                        - to
                                        - packageSize
                                        - price
                                        - fixedPrice
                                        - basisPoints
                                    description: >-
                                      List of price tiers for this prorated
                                      metric.
                                  prorationMetricBillings:
                                    type: array
                                    items:
                                      type: object
                                      properties:
                                        id:
                                          type: string
                                          format: uuid
                                          description: >-
                                            The unique identifier for this proration
                                            metric billing.
                                        intervalStart:
                                          type: string
                                          description: >-
                                            The start date of the proration
                                            interval.
                                        intervalEnd:
                                          type: string
                                          description: The end date of the proration interval.
                                        usage:
                                          type: number
                                          minimum: 0
                                          description: >-
                                            The usage amount for this proration
                                            period.
                                        amount:
                                          type: number
                                          minimum: 0
                                          description: >-
                                            The cost amount for this proration
                                            period.
                                      required:
                                        - usage
                                        - amount
                                        - intervalStart
                                        - intervalEnd
                                    description: >-
                                      List of proration billing periods for this
                                      metric.
                                required:
                                  - id
                                  - resourceId
                                  - currencyUnitId
                                  - name
                                  - fixedAmount
                                  - minimumAmount
                                  - billingModel
                                  - priceTierDivision
                                  - resourceName
                                  - resourceType
                                  - totalAmount
                                  - priceTiers
                                  - prorationMetricBillings
                          minItems: 1
                          description: List of metrics associated with this plan.
                        totalAmount:
                          type: number
                          minimum: 0
                          description: The total amount for this plan.
                      required:
                        - id
                        - name
                        - description
                        - productId
                        - totalAmount
                        - planSettings
                      additionalProperties: false
                    minItems: 1
                    description: List of plans associated with this invoice.
                  additionalItems:
                    type: array
                    items:
                      type: object
                      description: Additional item object.
                      properties:
                        id:
                          type: string
                          format: uuid
                          description: The additional item id.
                        name:
                          type: string
                          minLength: 1
                          description: Name of the additional item.
                        description:
                          type: string
                          minLength: 1
                          nullable: true
                          description: Optional description of the additional item.
                        amount:
                          type: number
                          minimum: 1
                          description: Cost amount of the additional item.
                        type:
                          type: string
                          enum:
                            - discount
                            - additional_charge
                          description: Type of the additional billing item.
                      required:
                        - id
                        - name
                        - amount
                        - type
                        - description
                      additionalProperties: false
                    description: List of additional items charged in this invoice.
                required:
                  - id
                  - displayId
                  - customer
                  - paymentAccount
                  - payments
                  - startDate
                  - endDate
                  - totalAmount
                  - closedReason
                  - status
                  - plans
                  - additionalItems
                  - contract
                additionalProperties: false
                description: >-
                  The request was successfully processed and the invoice is
                  returned.
        '400':
          description: Error object returned to the client.
          content:
            application/json:
              schema:
                description: Error object returned to the client.
                type: object
                properties:
                  message:
                    type: string
                    description: A human-readable description of the error
                  code:
                    type: string
                    description: A unique identifier for the type of error
                  details:
                    oneOf:
                      - type: object
                      - type: array
                    description: >-
                      Additional context about the error, such as invalid fields
                      or constraints. Each endpoint may include specific error
                      details in their documentation
                  causations:
                    type: array
                    description: >-
                      Optional array of error objects following the same
                      structure as the parent error. Only present when there's a
                      meaningful chain of related errors to expose
                    items:
                      type: object
                      properties:
                        message:
                          type: string
                          description: >-
                            A human-readable description of the underlying error
                            cause
                        code:
                          type: string
                          description: A unique identifier for the type of underlying error
                        details:
                          type: object
                          description: Additional context about the underlying error
                      required:
                        - message
                        - code
                      additionalProperties: false
                required:
                  - code
                  - message
                additionalProperties: false
        '404':
          description: The invoice was not found.
          content:
            application/json:
              schema:
                description: The invoice was not found.
  /v1/invoices/by-processor-id/{processorId}:
    get:
      summary: 'Fetch invoice by processor ID '
      tags:
        - Invoices
      description: >-
        This endpoint allows fetching an invoice by processor ID. It also
        returns, if available, a pix and bank_slip URL for each invoice, which
        expires after 15 minutes.
      parameters:
        - schema:
            type: string
          in: path
          name: processorId
          required: true
      x-expose-in-openapi: true
      responses:
        '200':
          description: Default Response
          content:
            application/json:
              schema:
                type: object
                properties:
                  id:
                    type: string
                    format: uuid
                    description: The unique identifier of the invoice.
                  displayId:
                    type: string
                    description: The human-readable identifier of the invoice.
                  customer:
                    type: object
                    description: The customer associated with this invoice.
                    properties:
                      id:
                        description: The unique identifier of the customer in our system.
                        type: string
                      externalId:
                        description: >-
                          An optional external identifier of the customer from
                          the external system, used throughout the system to
                          identify the customer. This field can not be updated.
                        type: string
                        pattern: ^[a-zA-Z0-9_-]+$
                        example: cust_1234567890abcdef
                      name:
                        description: The name of the customer.
                        type: string
                        example: Acme Inc.
                      customFields:
                        type: object
                        description: >-
                          Custom fields that can be associated with the
                          customer. The fields must be previously created in the
                          system before they can be used.
                        additionalProperties:
                          type: string
                        example:
                          custom_field_1: value1
                          custom_field_2: value2
                    required:
                      - id
                      - externalId
                      - name
                    additionalProperties: false
                  paymentAccount:
                    description: The payment account used for this invoice.
                    type: object
                    properties:
                      id:
                        type: string
                        format: uuid
                        description: The unique identifier of the payment account.
                      businessName:
                        type: string
                        minLength: 1
                        description: The legal business name of the payment account holder.
                      tradeName:
                        type: string
                        minLength: 1
                        nullable: true
                        description: >-
                          The trade or "doing business as" name of the payment
                          account holder.
                      taxId:
                        type: string
                        pattern: ^\d{14}$
                        description: >-
                          The tax identification number (CNPJ) of the payment
                          account holder.
                      email:
                        type: string
                        format: email
                        nullable: true
                        description: The contact email address for the payment account.
                      address:
                        type: object
                        properties:
                          zipCode:
                            type: string
                            minLength: 8
                            maxLength: 8
                            pattern: ^[0-9]{8}$
                            description: The postal code (CEP) of the address.
                          number:
                            type: string
                            minLength: 1
                            description: The street number of the address.
                          street:
                            type: string
                            minLength: 1
                            description: The street name of the address.
                          neighborhood:
                            type: string
                            minLength: 1
                            description: The neighborhood or district of the address.
                          city:
                            type: string
                            minLength: 1
                            description: The city name of the address.
                          state:
                            type: string
                            enum:
                              - AC
                              - AL
                              - AP
                              - AM
                              - BA
                              - CE
                              - DF
                              - ES
                              - GO
                              - MA
                              - MT
                              - MS
                              - MG
                              - PA
                              - PB
                              - PR
                              - PE
                              - PI
                              - RJ
                              - RN
                              - RS
                              - RO
                              - RR
                              - SC
                              - SP
                              - SE
                              - TO
                            description: The state abbreviation of the address.
                          country:
                            type: string
                            enum:
                              - Brasil
                            description: The country code of the address.
                          complement:
                            type: string
                            nullable: true
                            description: >-
                              Additional address information like apartment
                              number, floor, etc.
                        required:
                          - zipCode
                          - number
                          - street
                          - neighborhood
                          - city
                          - state
                          - country
                          - complement
                        additionalProperties: false
                        nullable: true
                        description: >-
                          The physical address associated with the payment
                          account.
                    required:
                      - id
                      - businessName
                      - tradeName
                      - taxId
                      - email
                      - address
                    additionalProperties: false
                  contract:
                    description: The contract associated with this invoice.
                    type: object
                    properties:
                      id:
                        type: string
                        format: uuid
                        description: Unique identifier for the contract.
                      startDate:
                        type: string
                        format: date
                        description: Date when the contract becomes active.
                      endDate:
                        type: string
                        format: date
                        nullable: true
                        description: >-
                          Optional date when the contract expires. If null, the
                          contract has no end date.
                      billingEndDay:
                        type: number
                        minimum: 1
                        maximum: 31
                        description: Day of the month when the billing cycle ends (1-31).
                      status:
                        type: string
                        enum:
                          - active
                          - canceled
                          - completed
                          - draft
                        description: Current status of the contract.
                      paymentSettings:
                        type: object
                        description: >-
                          Schema defining payment gateway settings for a
                          contract. Required if payment gateway is enabled.
                        properties:
                          scheduledPaymentDay:
                            type: number
                            minimum: 1
                            maximum: 31
                            description: >-
                              The specific day of the month when the payment
                              will be scheduled. For example, a value of 1 means
                              the payment will be scheduled on the 1st day of
                              the month. A value of 31 represents the last day
                              of the month, regardless of whether the month has
                              28, 30, or 31 days.
                          dueOffsetDays:
                            type: number
                            minimum: 5
                            description: >-
                              Number of days after the payment start date until
                              payment is due (minimum of 5 days).
                        required:
                          - scheduledPaymentDay
                          - dueOffsetDays
                        additionalProperties: false
                        nullable: true
                      billingSettings:
                        type: object
                        properties:
                          billingCycleMinimumAmount:
                            type: number
                            minimum: 0
                            description: Minimum amount to be charged in a billing cycle.
                        required:
                          - billingCycleMinimumAmount
                        additionalProperties: false
                        description: Contract billing settings.
                      customFields:
                        type: object
                        description: >-
                          Custom fields that can be associated with the
                          contract. The fields must be previously created in the
                          system before they can be used.
                        additionalProperties:
                          type: string
                    required:
                      - id
                      - startDate
                      - endDate
                      - billingEndDay
                      - status
                      - paymentSettings
                      - billingSettings
                    additionalProperties: false
                  startDate:
                    type: string
                    format: date
                    description: The start date of the billing period.
                  endDate:
                    type: string
                    format: date
                    description: The end date of the billing period.
                  totalAmount:
                    type: number
                    minimum: 0
                    description: The total amount to be paid for this invoice.
                  closedReason:
                    type: string
                    enum:
                      - end_of_cycle
                      - billing_end_day_updated
                    nullable: true
                    description: The reason why the billing cycle was closed.
                  payments:
                    type: array
                    items:
                      type: object
                      properties:
                        id:
                          type: string
                          format: uuid
                        amount:
                          type: number
                        dueDate:
                          type: string
                          format: date
                        createdAt:
                          type: string
                          format: date-time
                        processedAt:
                          type: string
                          format: date-time
                          nullable: true
                        paymentMethod:
                          type: string
                          enum:
                            - bolepix
                            - bank_slip
                            - pix
                          nullable: true
                        status:
                          type: string
                          enum:
                            - created
                            - pending
                            - paid
                            - failed
                            - canceled
                            - expired
                        pixLink:
                          type: string
                          nullable: true
                        bankSlipLink:
                          type: string
                          nullable: true
                      required:
                        - id
                        - amount
                        - dueDate
                        - createdAt
                        - processedAt
                        - paymentMethod
                        - status
                        - pixLink
                        - bankSlipLink
                      additionalProperties: false
                    nullable: true
                    description: List of payments associated with this invoice.
                  status:
                    type: string
                    enum:
                      - open
                      - closed
                      - paid
                      - canceled
                    description: The current status of the invoice.
                  plans:
                    type: array
                    items:
                      type: object
                      description: Plan schema defining core plan properties.
                      properties:
                        id:
                          type: string
                          format: uuid
                          description: The unique identifier for this plan.
                        name:
                          type: string
                          minLength: 1
                          description: The name of the plan.
                        description:
                          type: string
                          nullable: true
                          description: Optional description of the plan.
                        productId:
                          type: string
                          format: uuid
                          description: The ID of the product this plan is associated with.
                        product:
                          type: object
                          description: The product associated with this plan.
                          properties:
                            id:
                              type: string
                              format: uuid
                              description: The unique identifier for this product.
                            name:
                              type: string
                              minLength: 1
                              description: The name of the product.
                          required:
                            - id
                            - name
                          additionalProperties: false
                        planSettings:
                          type: object
                          description: Settings configuration for this plan.
                          properties:
                            id:
                              type: string
                              format: uuid
                              description: The plan settings id.
                            fixedAmount:
                              type: number
                              minimum: 0
                              description: The fixed cost amount for this plan.
                            minimumAmount:
                              type: number
                              minimum: 0
                              description: The minimum cost amount for this plan.
                          required:
                            - id
                            - fixedAmount
                            - minimumAmount
                        metrics:
                          type: array
                          items:
                            anyOf:
                              - type: object
                                description: Invoice in full metric schema.
                                properties:
                                  id:
                                    type: string
                                    format: uuid
                                    description: The unique identifier for this metric.
                                  resourceId:
                                    type: string
                                    format: uuid
                                    description: >-
                                      The ID of the resource this metric is
                                      associated with.
                                  currencyUnitId:
                                    type: string
                                    format: uuid
                                    description: >-
                                      The ID of the currency unit this metric is
                                      associated with.
                                  name:
                                    type: string
                                    minLength: 1
                                    description: The name of the metric.
                                  billingModel:
                                    type: string
                                    description: The billing model type, set to InFull.
                                    enum:
                                      - in_full
                                  priceTierDivision:
                                    type: string
                                    enum:
                                      - unique_tier
                                      - progressive
                                    description: >-
                                      The price tier division method for this
                                      metric.
                                  fixedAmount:
                                    type: number
                                    minimum: 0
                                    description: The fixed cost amount for this metric.
                                  minimumAmount:
                                    type: number
                                    minimum: 0
                                    description: The minimum cost amount for this metric.
                                  resourceName:
                                    type: string
                                    minLength: 1
                                    description: The name of the resource.
                                  resourceType:
                                    type: string
                                    enum:
                                      - unit
                                      - currency
                                    description: The resource type.
                                  currencyUnit:
                                    type: object
                                    properties:
                                      id:
                                        type: string
                                      name:
                                        type: string
                                      code:
                                        type: string
                                    required:
                                      - id
                                      - name
                                      - code
                                    additionalProperties: false
                                  priceTiers:
                                    type: array
                                    items:
                                      type: object
                                      description: Price tier configuration for a metric.
                                      properties:
                                        id:
                                          type: string
                                          format: uuid
                                          description: >-
                                            The unique identifier for this price
                                            tier.
                                        billingType:
                                          type: string
                                          enum:
                                            - unit
                                            - package
                                            - flat
                                            - basis_points
                                          description: The billing type for this price tier.
                                        from:
                                          type: number
                                          minimum: 1
                                          description: The starting value for this price tier.
                                        to:
                                          type: number
                                          nullable: true
                                          minimum: 1
                                          description: >-
                                            The ending value for this price tier.
                                            Null indicates no upper bound.
                                        packageSize:
                                          type: number
                                          nullable: true
                                          minimum: 1
                                          description: >-
                                            The package size for package-based
                                            billing. Null if not package-based.
                                        price:
                                          type: string
                                          nullable: true
                                          pattern: ^\d+(\.\d{1,6})?$
                                          description: >-
                                            The price for this tier in decimal
                                            format.
                                        fixedPrice:
                                          type: string
                                          nullable: true
                                          pattern: ^\d+(\.\d{1,6})?$
                                          description: >-
                                            The fixed price for this tier in decimal
                                            format.
                                        basisPoints:
                                          type: number
                                          nullable: true
                                          description: >-
                                            The basis points associated with this
                                            price tier in decimal format
                                          minimum: 0
                                        totalAmount:
                                          type: number
                                          minimum: 0
                                          description: The total amount for this price tier.
                                        usage:
                                          type: number
                                          minimum: 0
                                          description: The usage amount for this price tier.
                                      required:
                                        - id
                                        - billingType
                                        - from
                                        - to
                                        - packageSize
                                        - price
                                        - fixedPrice
                                        - basisPoints
                                        - totalAmount
                                        - usage
                                    description: List of price tiers for this metric.
                                  totalAmount:
                                    type: number
                                    minimum: 0
                                    description: The total amount for this metric.
                                required:
                                  - id
                                  - resourceId
                                  - currencyUnitId
                                  - name
                                  - fixedAmount
                                  - minimumAmount
                                  - billingModel
                                  - priceTierDivision
                                  - resourceName
                                  - resourceType
                                  - priceTiers
                                  - totalAmount
                              - type: object
                                description: Invoice proration metric schema.
                                properties:
                                  id:
                                    type: string
                                    format: uuid
                                    description: The unique identifier for this metric.
                                  resourceId:
                                    type: string
                                    format: uuid
                                    description: >-
                                      The ID of the resource this metric is
                                      associated with.
                                  currencyUnitId:
                                    type: string
                                    format: uuid
                                    description: >-
                                      The ID of the currency unit this metric is
                                      associated with.
                                  name:
                                    type: string
                                    minLength: 1
                                    description: The name of the metric.
                                  billingModel:
                                    type: string
                                    description: The billing model type, set to Proration.
                                    enum:
                                      - proration
                                  priceTierDivision:
                                    type: string
                                    enum:
                                      - unique_tier
                                      - progressive
                                    description: >-
                                      The price tier division method for this
                                      metric.
                                  fixedAmount:
                                    type: number
                                    minimum: 0
                                    description: The fixed cost amount for this metric.
                                  minimumAmount:
                                    type: number
                                    minimum: 0
                                    description: The minimum cost amount for this metric.
                                  resourceName:
                                    type: string
                                    minLength: 1
                                    description: The name of the resource.
                                  resourceType:
                                    type: string
                                    enum:
                                      - unit
                                      - currency
                                    description: The resource type.
                                  currencyUnit:
                                    type: object
                                    properties:
                                      id:
                                        type: string
                                      name:
                                        type: string
                                      code:
                                        type: string
                                    required:
                                      - id
                                      - name
                                      - code
                                    additionalProperties: false
                                  totalAmount:
                                    type: number
                                    minimum: 0
                                    description: The total amount for this metric.
                                  priceTiers:
                                    type: array
                                    items:
                                      type: object
                                      description: Price tier configuration for a metric.
                                      properties:
                                        id:
                                          type: string
                                          format: uuid
                                          description: >-
                                            The unique identifier for this price
                                            tier.
                                        billingType:
                                          type: string
                                          enum:
                                            - unit
                                            - package
                                            - flat
                                            - basis_points
                                          description: The billing type for this price tier.
                                        from:
                                          type: number
                                          minimum: 1
                                          description: The starting value for this price tier.
                                        to:
                                          type: number
                                          nullable: true
                                          minimum: 1
                                          description: >-
                                            The ending value for this price tier.
                                            Null indicates no upper bound.
                                        packageSize:
                                          type: number
                                          nullable: true
                                          minimum: 1
                                          description: >-
                                            The package size for package-based
                                            billing. Null if not package-based.
                                        price:
                                          type: string
                                          nullable: true
                                          pattern: ^\d+(\.\d{1,6})?$
                                          description: >-
                                            The price for this tier in decimal
                                            format.
                                        fixedPrice:
                                          type: string
                                          nullable: true
                                          pattern: ^\d+(\.\d{1,6})?$
                                          description: >-
                                            The fixed price for this tier in decimal
                                            format.
                                        basisPoints:
                                          type: number
                                          nullable: true
                                          description: >-
                                            The basis points associated with this
                                            price tier in decimal format
                                          minimum: 0
                                      required:
                                        - id
                                        - billingType
                                        - from
                                        - to
                                        - packageSize
                                        - price
                                        - fixedPrice
                                        - basisPoints
                                    description: >-
                                      List of price tiers for this prorated
                                      metric.
                                  prorationMetricBillings:
                                    type: array
                                    items:
                                      type: object
                                      properties:
                                        id:
                                          type: string
                                          format: uuid
                                          description: >-
                                            The unique identifier for this proration
                                            metric billing.
                                        intervalStart:
                                          type: string
                                          description: >-
                                            The start date of the proration
                                            interval.
                                        intervalEnd:
                                          type: string
                                          description: The end date of the proration interval.
                                        usage:
                                          type: number
                                          minimum: 0
                                          description: >-
                                            The usage amount for this proration
                                            period.
                                        amount:
                                          type: number
                                          minimum: 0
                                          description: >-
                                            The cost amount for this proration
                                            period.
                                      required:
                                        - usage
                                        - amount
                                        - intervalStart
                                        - intervalEnd
                                    description: >-
                                      List of proration billing periods for this
                                      metric.
                                required:
                                  - id
                                  - resourceId
                                  - currencyUnitId
                                  - name
                                  - fixedAmount
                                  - minimumAmount
                                  - billingModel
                                  - priceTierDivision
                                  - resourceName
                                  - resourceType
                                  - totalAmount
                                  - priceTiers
                                  - prorationMetricBillings
                          minItems: 1
                          description: List of metrics associated with this plan.
                        totalAmount:
                          type: number
                          minimum: 0
                          description: The total amount for this plan.
                      required:
                        - id
                        - name
                        - description
                        - productId
                        - totalAmount
                        - planSettings
                      additionalProperties: false
                    minItems: 1
                    description: List of plans associated with this invoice.
                  additionalItems:
                    type: array
                    items:
                      type: object
                      description: Additional item object.
                      properties:
                        id:
                          type: string
                          format: uuid
                          description: The additional item id.
                        name:
                          type: string
                          minLength: 1
                          description: Name of the additional item.
                        description:
                          type: string
                          minLength: 1
                          nullable: true
                          description: Optional description of the additional item.
                        amount:
                          type: number
                          minimum: 1
                          description: Cost amount of the additional item.
                        type:
                          type: string
                          enum:
                            - discount
                            - additional_charge
                          description: Type of the additional billing item.
                      required:
                        - id
                        - name
                        - amount
                        - type
                        - description
                      additionalProperties: false
                    description: List of additional items charged in this invoice.
                required:
                  - id
                  - displayId
                  - customer
                  - paymentAccount
                  - payments
                  - startDate
                  - endDate
                  - totalAmount
                  - closedReason
                  - status
                  - plans
                  - additionalItems
                  - contract
                additionalProperties: false
        '404':
          description: Invoice not found.
          content:
            application/json:
              schema:
                description: Invoice not found.
  /v1/invoices/{id}/pdf/download:
    get:
      summary: Download invoice PDF
      tags:
        - Invoices
      description: This endpoint allows download an invoice PDF by id
      parameters:
        - schema:
            type: string
          in: path
          name: id
          required: true
      x-expose-in-openapi: true
      responses:
        '200':
          description: PDF binary
          content:
            application/json:
              schema:
                description: PDF binary
        '404':
          description: Invoice not found.
          content:
            application/json:
              schema:
                description: Invoice not found.
  /v1/contracts/:
    post:
      summary: Create contract
      tags:
        - Contracts
      description: >-
        This endpoint allows creating a new contract. If needed, it also permits
        the creation of a new customer and a new payment account or the
        provision of existing customer and payment account IDs to sync the new
        contract with them.
      requestBody:
        content:
          application/json:
            schema:
              type: object
              properties:
                customer:
                  type: object
                  description: New Customer details.
                  properties:
                    externalId:
                      description: >-
                        An optional external identifier of the customer from the
                        external system, used throughout the system to identify
                        the customer. This field can not be updated.
                      type: string
                      pattern: ^[a-zA-Z0-9_-]+$
                      example: cust_1234567890abcdef
                    name:
                      description: The name of the customer.
                      type: string
                      example: Acme Inc.
                    customFields:
                      type: object
                      description: >-
                        Custom fields that can be associated with the customer.
                        The fields must be previously created in the system
                        before they can be used.
                      additionalProperties:
                        type: string
                      example:
                        custom_field_1: value1
                        custom_field_2: value2
                  required:
                    - externalId
                    - name
                  additionalProperties: false
                paymentAccount:
                  description: New Payment Account details.
                  type: object
                  properties:
                    businessName:
                      type: string
                      minLength: 1
                      description: The legal business name of the payment account holder.
                    tradeName:
                      type: string
                      minLength: 1
                      nullable: true
                      description: >-
                        The trade or "doing business as" name of the payment
                        account holder.
                    taxId:
                      type: string
                      pattern: ^\d{14}$
                      description: >-
                        The tax identification number (CNPJ) of the payment
                        account holder.
                    email:
                      type: string
                      format: email
                      nullable: true
                      description: The contact email address for the payment account.
                    address:
                      type: object
                      properties:
                        zipCode:
                          type: string
                          minLength: 8
                          maxLength: 8
                          pattern: ^[0-9]{8}$
                          description: The postal code (CEP) of the address.
                        number:
                          type: string
                          minLength: 1
                          description: The street number of the address.
                        street:
                          type: string
                          minLength: 1
                          description: The street name of the address.
                        neighborhood:
                          type: string
                          minLength: 1
                          description: The neighborhood or district of the address.
                        city:
                          type: string
                          minLength: 1
                          description: The city name of the address.
                        state:
                          type: string
                          enum:
                            - AC
                            - AL
                            - AP
                            - AM
                            - BA
                            - CE
                            - DF
                            - ES
                            - GO
                            - MA
                            - MT
                            - MS
                            - MG
                            - PA
                            - PB
                            - PR
                            - PE
                            - PI
                            - RJ
                            - RN
                            - RS
                            - RO
                            - RR
                            - SC
                            - SP
                            - SE
                            - TO
                          description: The state abbreviation of the address.
                        country:
                          type: string
                          enum:
                            - Brasil
                          description: The country code of the address.
                        complement:
                          type: string
                          nullable: true
                          description: >-
                            Additional address information like apartment
                            number, floor, etc.
                      required:
                        - zipCode
                        - number
                        - street
                        - neighborhood
                        - city
                        - state
                        - country
                        - complement
                      additionalProperties: false
                      nullable: true
                      description: >-
                        The physical address associated with the payment
                        account.
                  required:
                    - businessName
                    - tradeName
                    - taxId
                    - email
                    - address
                  additionalProperties: false
                customerId:
                  type: string
                  description: >-
                    Existing customer ID. If provided, a new customer will not
                    be created. 
                            **Note:** You cannot provide both a `customerId` and a new `customer` object at the same time.
                paymentAccountId:
                  type: string
                  description: >-
                    Existing payment account ID. If provided, a new payment
                    account will not be created. 
                            **Note:** You cannot provide both a `paymentAccountId` and a new `paymentAccount` object at the same time.
                contract:
                  type: object
                  description: New Contract details.
                  properties:
                    startDate:
                      type: string
                      format: date
                      description: Date when the contract becomes active.
                    endDate:
                      type: string
                      format: date
                      nullable: true
                      description: >-
                        Optional date when the contract expires. If null, the
                        contract has no end date.
                    billingEndDay:
                      type: number
                      minimum: 1
                      maximum: 31
                      description: Day of the month when the billing cycle ends (1-31).
                    planIds:
                      type: array
                      items:
                        type: string
                      minItems: 0
                      description: List of plan IDs to be associated with the contract.
                    paymentSettings:
                      type: object
                      description: >-
                        Schema defining payment gateway settings for a contract.
                        Required if payment gateway is enabled.
                      properties:
                        scheduledPaymentDay:
                          type: number
                          minimum: 1
                          maximum: 31
                          description: >-
                            The specific day of the month when the payment will
                            be scheduled. For example, a value of 1 means the
                            payment will be scheduled on the 1st day of the
                            month. A value of 31 represents the last day of the
                            month, regardless of whether the month has 28, 30,
                            or 31 days.
                        dueOffsetDays:
                          type: number
                          minimum: 5
                          description: >-
                            Number of days after the payment start date until
                            payment is due (minimum of 5 days).
                      required:
                        - scheduledPaymentDay
                        - dueOffsetDays
                      additionalProperties: false
                      nullable: true
                    billingSettings:
                      type: object
                      properties:
                        billingCycleMinimumAmount:
                          type: number
                          minimum: 0
                          description: Minimum amount to be charged in a billing cycle.
                      required:
                        - billingCycleMinimumAmount
                      additionalProperties: false
                      description: >-
                        Optional billing settings. If not provided, minimum
                        amount will be set to zero.
                    customFields:
                      type: object
                      description: >-
                        Custom fields that can be associated with the contract.
                        The fields must be previously created in the system
                        before they can be used.
                      additionalProperties:
                        type: string
                  required:
                    - startDate
                    - endDate
                    - billingEndDay
                    - planIds
                    - paymentSettings
                  additionalProperties: false
              oneOf:
                - required:
                    - customer
                    - paymentAccount
                  title: New contract for a new customer.
                  description: >-
                    Provide a new customer and a new payment account to create a
                    new contract for the new customer and payment account.
                - required:
                    - customerId
                    - paymentAccountId
                  title: New contract for an existing customer.
                  description: >-
                    Provide an existing customer ID and an existing payment
                    account ID to create a new contract for the existing
                    customer and payment account.
              required:
                - contract
              additionalProperties: false
        required: true
      x-expose-in-openapi: true
      responses:
        '201':
          description: >-
            The request was successfully processed, and the contract has been
            created. As well as new customer and/or a new payment account if
            they were part of the request.
          content:
            application/json:
              schema:
                type: object
                properties:
                  contract:
                    description: Schema defining the contract details.
                    type: object
                    properties:
                      id:
                        type: string
                        format: uuid
                        description: Unique identifier for the contract.
                      startDate:
                        type: string
                        format: date
                        description: Date when the contract becomes active.
                      endDate:
                        type: string
                        format: date
                        nullable: true
                        description: >-
                          Optional date when the contract expires. If null, the
                          contract has no end date.
                      billingEndDay:
                        type: number
                        minimum: 1
                        maximum: 31
                        description: Day of the month when the billing cycle ends (1-31).
                      status:
                        type: string
                        enum:
                          - active
                          - canceled
                          - completed
                          - draft
                        description: Current status of the contract.
                      plans:
                        type: array
                        items:
                          type: object
                          properties:
                            id:
                              type: string
                              format: uuid
                            name:
                              type: string
                              minLength: 1
                            description:
                              type: string
                              nullable: true
                          required:
                            - id
                            - name
                            - description
                          additionalProperties: false
                        description: >-
                          List of subscription plans associated with this
                          contract.
                      paymentSettings:
                        type: object
                        description: >-
                          Schema defining payment gateway settings for a
                          contract. Required if payment gateway is enabled.
                        properties:
                          scheduledPaymentDay:
                            type: number
                            minimum: 1
                            maximum: 31
                            description: >-
                              The specific day of the month when the payment
                              will be scheduled. For example, a value of 1 means
                              the payment will be scheduled on the 1st day of
                              the month. A value of 31 represents the last day
                              of the month, regardless of whether the month has
                              28, 30, or 31 days.
                          dueOffsetDays:
                            type: number
                            minimum: 5
                            description: >-
                              Number of days after the payment start date until
                              payment is due (minimum of 5 days).
                        required:
                          - scheduledPaymentDay
                          - dueOffsetDays
                        additionalProperties: false
                        nullable: true
                      billingSettings:
                        type: object
                        properties:
                          billingCycleMinimumAmount:
                            type: number
                            minimum: 0
                            description: Minimum amount to be charged in a billing cycle.
                        required:
                          - billingCycleMinimumAmount
                        additionalProperties: false
                        description: Contract billing settings.
                      customFields:
                        type: object
                        description: >-
                          Custom fields that can be associated with the
                          contract. The fields must be previously created in the
                          system before they can be used.
                        additionalProperties:
                          type: string
                    required:
                      - id
                      - startDate
                      - endDate
                      - billingEndDay
                      - status
                      - plans
                      - paymentSettings
                      - billingSettings
                    additionalProperties: false
                  customer:
                    type: object
                    description: Schema representing a customer.
                    properties:
                      id:
                        description: The unique identifier of the customer in our system.
                        type: string
                      externalId:
                        description: >-
                          An optional external identifier of the customer from
                          the external system, used throughout the system to
                          identify the customer. This field can not be updated.
                        type: string
                        pattern: ^[a-zA-Z0-9_-]+$
                        example: cust_1234567890abcdef
                      name:
                        description: The name of the customer.
                        type: string
                        example: Acme Inc.
                      customFields:
                        type: object
                        description: >-
                          Custom fields that can be associated with the
                          customer. The fields must be previously created in the
                          system before they can be used.
                        additionalProperties:
                          type: string
                        example:
                          custom_field_1: value1
                          custom_field_2: value2
                    required:
                      - id
                      - externalId
                      - name
                    additionalProperties: false
                  paymentAccount:
                    description: Schema representing a payment account.
                    type: object
                    properties:
                      id:
                        type: string
                        format: uuid
                        description: The unique identifier of the payment account.
                      businessName:
                        type: string
                        minLength: 1
                        description: The legal business name of the payment account holder.
                      tradeName:
                        type: string
                        minLength: 1
                        nullable: true
                        description: >-
                          The trade or "doing business as" name of the payment
                          account holder.
                      taxId:
                        type: string
                        pattern: ^\d{14}$
                        description: >-
                          The tax identification number (CNPJ) of the payment
                          account holder.
                      email:
                        type: string
                        format: email
                        nullable: true
                        description: The contact email address for the payment account.
                      address:
                        type: object
                        properties:
                          zipCode:
                            type: string
                            minLength: 8
                            maxLength: 8
                            pattern: ^[0-9]{8}$
                            description: The postal code (CEP) of the address.
                          number:
                            type: string
                            minLength: 1
                            description: The street number of the address.
                          street:
                            type: string
                            minLength: 1
                            description: The street name of the address.
                          neighborhood:
                            type: string
                            minLength: 1
                            description: The neighborhood or district of the address.
                          city:
                            type: string
                            minLength: 1
                            description: The city name of the address.
                          state:
                            type: string
                            enum:
                              - AC
                              - AL
                              - AP
                              - AM
                              - BA
                              - CE
                              - DF
                              - ES
                              - GO
                              - MA
                              - MT
                              - MS
                              - MG
                              - PA
                              - PB
                              - PR
                              - PE
                              - PI
                              - RJ
                              - RN
                              - RS
                              - RO
                              - RR
                              - SC
                              - SP
                              - SE
                              - TO
                            description: The state abbreviation of the address.
                          country:
                            type: string
                            enum:
                              - Brasil
                            description: The country code of the address.
                          complement:
                            type: string
                            nullable: true
                            description: >-
                              Additional address information like apartment
                              number, floor, etc.
                        required:
                          - zipCode
                          - number
                          - street
                          - neighborhood
                          - city
                          - state
                          - country
                          - complement
                        additionalProperties: false
                        nullable: true
                        description: >-
                          The physical address associated with the payment
                          account.
                    required:
                      - id
                      - businessName
                      - tradeName
                      - taxId
                      - email
                      - address
                    additionalProperties: false
                required:
                  - contract
                  - customer
                  - paymentAccount
                additionalProperties: false
                description: >-
                  The request was successfully processed, and the contract has
                  been created. As well as new customer and/or a new payment
                  account if they were part of the request.
        '400':
          description: Error object returned to the client.
          content:
            application/json:
              schema:
                description: Error object returned to the client.
                type: object
                properties:
                  message:
                    type: string
                    description: A human-readable description of the error
                  code:
                    type: string
                    description: A unique identifier for the type of error
                  details:
                    oneOf:
                      - type: object
                      - type: array
                    description: >-
                      Additional context about the error, such as invalid fields
                      or constraints. Each endpoint may include specific error
                      details in their documentation
                  causations:
                    type: array
                    description: >-
                      Optional array of error objects following the same
                      structure as the parent error. Only present when there's a
                      meaningful chain of related errors to expose
                    items:
                      type: object
                      properties:
                        message:
                          type: string
                          description: >-
                            A human-readable description of the underlying error
                            cause
                        code:
                          type: string
                          description: A unique identifier for the type of underlying error
                        details:
                          type: object
                          description: Additional context about the underlying error
                      required:
                        - message
                        - code
                      additionalProperties: false
                required:
                  - code
                  - message
                additionalProperties: false
        '401':
          description: Existing ID and new entity cannot be provided together.
          content:
            application/json:
              schema:
                description: Existing ID and new entity cannot be provided together.
        '404':
          description: >-
            Customer not found or payment account not found for the provided
            IDs.
          content:
            application/json:
              schema:
                description: >-
                  Customer not found or payment account not found for the
                  provided IDs.
        '500':
          description: Failed to create customer, payment account, or contract.
          content:
            application/json:
              schema:
                description: Failed to create customer, payment account, or contract.
  /v1/contracts/{id}:
    put:
      summary: Update contract
      tags:
        - Contracts
      description: This endpoint allows updating a contract by id.
      requestBody:
        content:
          application/json:
            schema:
              type: object
              properties:
                paymentAccount:
                  description: New Payment Account details.
                  type: object
                  properties:
                    businessName:
                      type: string
                      minLength: 1
                      description: The legal business name of the payment account holder.
                    tradeName:
                      type: string
                      minLength: 1
                      nullable: true
                      description: >-
                        The trade or "doing business as" name of the payment
                        account holder.
                    taxId:
                      type: string
                      pattern: ^\d{14}$
                      description: >-
                        The tax identification number (CNPJ) of the payment
                        account holder.
                    email:
                      type: string
                      format: email
                      nullable: true
                      description: The contact email address for the payment account.
                    address:
                      type: object
                      properties:
                        zipCode:
                          type: string
                          minLength: 8
                          maxLength: 8
                          pattern: ^[0-9]{8}$
                          description: The postal code (CEP) of the address.
                        number:
                          type: string
                          minLength: 1
                          description: The street number of the address.
                        street:
                          type: string
                          minLength: 1
                          description: The street name of the address.
                        neighborhood:
                          type: string
                          minLength: 1
                          description: The neighborhood or district of the address.
                        city:
                          type: string
                          minLength: 1
                          description: The city name of the address.
                        state:
                          type: string
                          enum:
                            - AC
                            - AL
                            - AP
                            - AM
                            - BA
                            - CE
                            - DF
                            - ES
                            - GO
                            - MA
                            - MT
                            - MS
                            - MG
                            - PA
                            - PB
                            - PR
                            - PE
                            - PI
                            - RJ
                            - RN
                            - RS
                            - RO
                            - RR
                            - SC
                            - SP
                            - SE
                            - TO
                          description: The state abbreviation of the address.
                        country:
                          type: string
                          enum:
                            - Brasil
                          description: The country code of the address.
                        complement:
                          type: string
                          nullable: true
                          description: >-
                            Additional address information like apartment
                            number, floor, etc.
                      required:
                        - zipCode
                        - number
                        - street
                        - neighborhood
                        - city
                        - state
                        - country
                        - complement
                      additionalProperties: false
                      nullable: true
                      description: >-
                        The physical address associated with the payment
                        account.
                  required:
                    - businessName
                    - tradeName
                    - taxId
                    - email
                    - address
                  additionalProperties: false
                paymentAccountId:
                  type: string
                  format: uuid
                  description: >-
                    Existing payment account ID. If provided, a new payment
                    account will not be created. 
                            **Note:** You cannot provide both a `paymentAccountId` and a new `paymentAccount` object at the same time.
                contract:
                  type: object
                  description: New Contract details.
                  properties:
                    startDate:
                      type: string
                      format: date
                      description: Date when the contract becomes active.
                    endDate:
                      type: string
                      format: date
                      nullable: true
                      description: >-
                        Optional date when the contract expires. If null, the
                        contract has no end date.
                    billingEndDay:
                      type: number
                      minimum: 1
                      maximum: 31
                      description: Day of the month when the billing cycle ends (1-31).
                    planIds:
                      type: array
                      items:
                        type: string
                      minItems: 0
                      description: List of plan IDs to be associated with the contract.
                    paymentSettings:
                      type: object
                      description: >-
                        Schema defining payment gateway settings for a contract.
                        Required if payment gateway is enabled.
                      properties:
                        scheduledPaymentDay:
                          type: number
                          minimum: 1
                          maximum: 31
                          description: >-
                            The specific day of the month when the payment will
                            be scheduled. For example, a value of 1 means the
                            payment will be scheduled on the 1st day of the
                            month. A value of 31 represents the last day of the
                            month, regardless of whether the month has 28, 30,
                            or 31 days.
                        dueOffsetDays:
                          type: number
                          minimum: 5
                          description: >-
                            Number of days after the payment start date until
                            payment is due (minimum of 5 days).
                      required:
                        - scheduledPaymentDay
                        - dueOffsetDays
                      additionalProperties: false
                      nullable: true
                    billingSettings:
                      type: object
                      properties:
                        billingCycleMinimumAmount:
                          type: number
                          minimum: 0
                          description: Minimum amount to be charged in a billing cycle.
                      required:
                        - billingCycleMinimumAmount
                      additionalProperties: false
                      description: >-
                        Optional billing settings. If not provided, minimum
                        amount will be set to zero.
                    customFields:
                      type: object
                      description: >-
                        Custom fields that can be associated with the contract.
                        The fields must be previously created in the system
                        before they can be used.
                      additionalProperties:
                        type: string
                  required:
                    - startDate
                    - endDate
                    - billingEndDay
                    - planIds
                    - paymentSettings
                  additionalProperties: false
              oneOf:
                - required:
                    - paymentAccount
                  title: New contract with a new payment account.
                  description: >-
                    Provide a new payment account to create a new contract for
                    the new payment account.
                - required:
                    - paymentAccountId
                  title: New contract with an existing payment account.
                  description: >-
                    Provide an existing payment account ID to create a new
                    contract for the existing payment account.
              required:
                - contract
              additionalProperties: false
              description: A contract object.
        required: true
        description: A contract object.
      parameters:
        - schema:
            type: string
            format: uuid
          in: path
          name: id
          required: true
          description: The contract id.
      x-expose-in-openapi: true
      responses:
        '200':
          description: >-
            The request was successfully processed, and the contract has been
            updated. The response contains the details of the updated contract.
          content:
            application/json:
              schema:
                type: object
                properties:
                  contract:
                    description: Schema defining the contract details.
                    type: object
                    properties:
                      id:
                        type: string
                        format: uuid
                        description: Unique identifier for the contract.
                      startDate:
                        type: string
                        format: date
                        description: Date when the contract becomes active.
                      endDate:
                        type: string
                        format: date
                        nullable: true
                        description: >-
                          Optional date when the contract expires. If null, the
                          contract has no end date.
                      billingEndDay:
                        type: number
                        minimum: 1
                        maximum: 31
                        description: Day of the month when the billing cycle ends (1-31).
                      status:
                        type: string
                        enum:
                          - active
                          - canceled
                          - completed
                          - draft
                        description: Current status of the contract.
                      plans:
                        type: array
                        items:
                          type: object
                          properties:
                            id:
                              type: string
                              format: uuid
                            name:
                              type: string
                              minLength: 1
                            description:
                              type: string
                              nullable: true
                          required:
                            - id
                            - name
                            - description
                          additionalProperties: false
                        description: >-
                          List of subscription plans associated with this
                          contract.
                      paymentSettings:
                        type: object
                        description: >-
                          Schema defining payment gateway settings for a
                          contract. Required if payment gateway is enabled.
                        properties:
                          scheduledPaymentDay:
                            type: number
                            minimum: 1
                            maximum: 31
                            description: >-
                              The specific day of the month when the payment
                              will be scheduled. For example, a value of 1 means
                              the payment will be scheduled on the 1st day of
                              the month. A value of 31 represents the last day
                              of the month, regardless of whether the month has
                              28, 30, or 31 days.
                          dueOffsetDays:
                            type: number
                            minimum: 5
                            description: >-
                              Number of days after the payment start date until
                              payment is due (minimum of 5 days).
                        required:
                          - scheduledPaymentDay
                          - dueOffsetDays
                        additionalProperties: false
                        nullable: true
                      billingSettings:
                        type: object
                        properties:
                          billingCycleMinimumAmount:
                            type: number
                            minimum: 0
                            description: Minimum amount to be charged in a billing cycle.
                        required:
                          - billingCycleMinimumAmount
                        additionalProperties: false
                        description: Contract billing settings.
                      customFields:
                        type: object
                        description: >-
                          Custom fields that can be associated with the
                          contract. The fields must be previously created in the
                          system before they can be used.
                        additionalProperties:
                          type: string
                    required:
                      - id
                      - startDate
                      - endDate
                      - billingEndDay
                      - status
                      - plans
                      - paymentSettings
                      - billingSettings
                    additionalProperties: false
                  customer:
                    type: object
                    description: Schema representing a customer.
                    properties:
                      id:
                        description: The unique identifier of the customer in our system.
                        type: string
                      externalId:
                        description: >-
                          An optional external identifier of the customer from
                          the external system, used throughout the system to
                          identify the customer. This field can not be updated.
                        type: string
                        pattern: ^[a-zA-Z0-9_-]+$
                        example: cust_1234567890abcdef
                      name:
                        description: The name of the customer.
                        type: string
                        example: Acme Inc.
                      customFields:
                        type: object
                        description: >-
                          Custom fields that can be associated with the
                          customer. The fields must be previously created in the
                          system before they can be used.
                        additionalProperties:
                          type: string
                        example:
                          custom_field_1: value1
                          custom_field_2: value2
                    required:
                      - id
                      - externalId
                      - name
                    additionalProperties: false
                  paymentAccount:
                    description: Schema representing a payment account.
                    type: object
                    properties:
                      id:
                        type: string
                        format: uuid
                        description: The unique identifier of the payment account.
                      businessName:
                        type: string
                        minLength: 1
                        description: The legal business name of the payment account holder.
                      tradeName:
                        type: string
                        minLength: 1
                        nullable: true
                        description: >-
                          The trade or "doing business as" name of the payment
                          account holder.
                      taxId:
                        type: string
                        pattern: ^\d{14}$
                        description: >-
                          The tax identification number (CNPJ) of the payment
                          account holder.
                      email:
                        type: string
                        format: email
                        nullable: true
                        description: The contact email address for the payment account.
                      address:
                        type: object
                        properties:
                          zipCode:
                            type: string
                            minLength: 8
                            maxLength: 8
                            pattern: ^[0-9]{8}$
                            description: The postal code (CEP) of the address.
                          number:
                            type: string
                            minLength: 1
                            description: The street number of the address.
                          street:
                            type: string
                            minLength: 1
                            description: The street name of the address.
                          neighborhood:
                            type: string
                            minLength: 1
                            description: The neighborhood or district of the address.
                          city:
                            type: string
                            minLength: 1
                            description: The city name of the address.
                          state:
                            type: string
                            enum:
                              - AC
                              - AL
                              - AP
                              - AM
                              - BA
                              - CE
                              - DF
                              - ES
                              - GO
                              - MA
                              - MT
                              - MS
                              - MG
                              - PA
                              - PB
                              - PR
                              - PE
                              - PI
                              - RJ
                              - RN
                              - RS
                              - RO
                              - RR
                              - SC
                              - SP
                              - SE
                              - TO
                            description: The state abbreviation of the address.
                          country:
                            type: string
                            enum:
                              - Brasil
                            description: The country code of the address.
                          complement:
                            type: string
                            nullable: true
                            description: >-
                              Additional address information like apartment
                              number, floor, etc.
                        required:
                          - zipCode
                          - number
                          - street
                          - neighborhood
                          - city
                          - state
                          - country
                          - complement
                        additionalProperties: false
                        nullable: true
                        description: >-
                          The physical address associated with the payment
                          account.
                    required:
                      - id
                      - businessName
                      - tradeName
                      - taxId
                      - email
                      - address
                    additionalProperties: false
                required:
                  - contract
                  - customer
                  - paymentAccount
                additionalProperties: false
                description: >-
                  The request was successfully processed, and the contract has
                  been updated. The response contains the details of the updated
                  contract.
        '400':
          description: Error object returned to the client.
          content:
            application/json:
              schema:
                description: Error object returned to the client.
                type: object
                properties:
                  message:
                    type: string
                    description: A human-readable description of the error
                  code:
                    type: string
                    description: A unique identifier for the type of error
                  details:
                    oneOf:
                      - type: object
                      - type: array
                    description: >-
                      Additional context about the error, such as invalid fields
                      or constraints. Each endpoint may include specific error
                      details in their documentation
                  causations:
                    type: array
                    description: >-
                      Optional array of error objects following the same
                      structure as the parent error. Only present when there's a
                      meaningful chain of related errors to expose
                    items:
                      type: object
                      properties:
                        message:
                          type: string
                          description: >-
                            A human-readable description of the underlying error
                            cause
                        code:
                          type: string
                          description: A unique identifier for the type of underlying error
                        details:
                          type: object
                          description: Additional context about the underlying error
                      required:
                        - message
                        - code
                      additionalProperties: false
                required:
                  - code
                  - message
                additionalProperties: false
        '404':
          description: Contract not found.
          content:
            application/json:
              schema:
                description: Contract not found.
    get:
      summary: Fetch contract
      tags:
        - Contracts
      description: This endpoint allows fetching a contract by id.
      parameters:
        - schema:
            type: string
            format: uuid
          in: path
          name: id
          required: true
      x-expose-in-openapi: true
      responses:
        '201':
          description: >-
            The request was successfully processed and the contract information
            is returned.
          content:
            application/json:
              schema:
                type: object
                properties:
                  contract:
                    description: Schema defining the contract details.
                    type: object
                    properties:
                      id:
                        type: string
                        format: uuid
                        description: Unique identifier for the contract.
                      startDate:
                        type: string
                        format: date
                        description: Date when the contract becomes active.
                      endDate:
                        type: string
                        format: date
                        nullable: true
                        description: >-
                          Optional date when the contract expires. If null, the
                          contract has no end date.
                      billingEndDay:
                        type: number
                        minimum: 1
                        maximum: 31
                        description: Day of the month when the billing cycle ends (1-31).
                      status:
                        type: string
                        enum:
                          - active
                          - canceled
                          - completed
                          - draft
                        description: Current status of the contract.
                      plans:
                        type: array
                        items:
                          type: object
                          properties:
                            id:
                              type: string
                              format: uuid
                            name:
                              type: string
                              minLength: 1
                            description:
                              type: string
                              nullable: true
                          required:
                            - id
                            - name
                            - description
                          additionalProperties: false
                        description: >-
                          List of subscription plans associated with this
                          contract.
                      paymentSettings:
                        type: object
                        description: >-
                          Schema defining payment gateway settings for a
                          contract. Required if payment gateway is enabled.
                        properties:
                          scheduledPaymentDay:
                            type: number
                            minimum: 1
                            maximum: 31
                            description: >-
                              The specific day of the month when the payment
                              will be scheduled. For example, a value of 1 means
                              the payment will be scheduled on the 1st day of
                              the month. A value of 31 represents the last day
                              of the month, regardless of whether the month has
                              28, 30, or 31 days.
                          dueOffsetDays:
                            type: number
                            minimum: 5
                            description: >-
                              Number of days after the payment start date until
                              payment is due (minimum of 5 days).
                        required:
                          - scheduledPaymentDay
                          - dueOffsetDays
                        additionalProperties: false
                        nullable: true
                      billingSettings:
                        type: object
                        properties:
                          billingCycleMinimumAmount:
                            type: number
                            minimum: 0
                            description: Minimum amount to be charged in a billing cycle.
                        required:
                          - billingCycleMinimumAmount
                        additionalProperties: false
                        description: Contract billing settings.
                      customFields:
                        type: object
                        description: >-
                          Custom fields that can be associated with the
                          contract. The fields must be previously created in the
                          system before they can be used.
                        additionalProperties:
                          type: string
                    required:
                      - id
                      - startDate
                      - endDate
                      - billingEndDay
                      - status
                      - plans
                      - paymentSettings
                      - billingSettings
                    additionalProperties: false
                  customer:
                    type: object
                    description: Schema representing a customer.
                    properties:
                      id:
                        description: The unique identifier of the customer in our system.
                        type: string
                      externalId:
                        description: >-
                          An optional external identifier of the customer from
                          the external system, used throughout the system to
                          identify the customer. This field can not be updated.
                        type: string
                        pattern: ^[a-zA-Z0-9_-]+$
                        example: cust_1234567890abcdef
                      name:
                        description: The name of the customer.
                        type: string
                        example: Acme Inc.
                      customFields:
                        type: object
                        description: >-
                          Custom fields that can be associated with the
                          customer. The fields must be previously created in the
                          system before they can be used.
                        additionalProperties:
                          type: string
                        example:
                          custom_field_1: value1
                          custom_field_2: value2
                    required:
                      - id
                      - externalId
                      - name
                    additionalProperties: false
                  paymentAccount:
                    description: Schema representing a payment account.
                    type: object
                    properties:
                      id:
                        type: string
                        format: uuid
                        description: The unique identifier of the payment account.
                      businessName:
                        type: string
                        minLength: 1
                        description: The legal business name of the payment account holder.
                      tradeName:
                        type: string
                        minLength: 1
                        nullable: true
                        description: >-
                          The trade or "doing business as" name of the payment
                          account holder.
                      taxId:
                        type: string
                        pattern: ^\d{14}$
                        description: >-
                          The tax identification number (CNPJ) of the payment
                          account holder.
                      email:
                        type: string
                        format: email
                        nullable: true
                        description: The contact email address for the payment account.
                      address:
                        type: object
                        properties:
                          zipCode:
                            type: string
                            minLength: 8
                            maxLength: 8
                            pattern: ^[0-9]{8}$
                            description: The postal code (CEP) of the address.
                          number:
                            type: string
                            minLength: 1
                            description: The street number of the address.
                          street:
                            type: string
                            minLength: 1
                            description: The street name of the address.
                          neighborhood:
                            type: string
                            minLength: 1
                            description: The neighborhood or district of the address.
                          city:
                            type: string
                            minLength: 1
                            description: The city name of the address.
                          state:
                            type: string
                            enum:
                              - AC
                              - AL
                              - AP
                              - AM
                              - BA
                              - CE
                              - DF
                              - ES
                              - GO
                              - MA
                              - MT
                              - MS
                              - MG
                              - PA
                              - PB
                              - PR
                              - PE
                              - PI
                              - RJ
                              - RN
                              - RS
                              - RO
                              - RR
                              - SC
                              - SP
                              - SE
                              - TO
                            description: The state abbreviation of the address.
                          country:
                            type: string
                            enum:
                              - Brasil
                            description: The country code of the address.
                          complement:
                            type: string
                            nullable: true
                            description: >-
                              Additional address information like apartment
                              number, floor, etc.
                        required:
                          - zipCode
                          - number
                          - street
                          - neighborhood
                          - city
                          - state
                          - country
                          - complement
                        additionalProperties: false
                        nullable: true
                        description: >-
                          The physical address associated with the payment
                          account.
                    required:
                      - id
                      - businessName
                      - tradeName
                      - taxId
                      - email
                      - address
                    additionalProperties: false
                required:
                  - contract
                  - customer
                  - paymentAccount
                additionalProperties: false
                description: >-
                  The request was successfully processed and the contract
                  information is returned.
        '400':
          description: Error object returned to the client.
          content:
            application/json:
              schema:
                description: Error object returned to the client.
                type: object
                properties:
                  message:
                    type: string
                    description: A human-readable description of the error
                  code:
                    type: string
                    description: A unique identifier for the type of error
                  details:
                    oneOf:
                      - type: object
                      - type: array
                    description: >-
                      Additional context about the error, such as invalid fields
                      or constraints. Each endpoint may include specific error
                      details in their documentation
                  causations:
                    type: array
                    description: >-
                      Optional array of error objects following the same
                      structure as the parent error. Only present when there's a
                      meaningful chain of related errors to expose
                    items:
                      type: object
                      properties:
                        message:
                          type: string
                          description: >-
                            A human-readable description of the underlying error
                            cause
                        code:
                          type: string
                          description: A unique identifier for the type of underlying error
                        details:
                          type: object
                          description: Additional context about the underlying error
                      required:
                        - message
                        - code
                      additionalProperties: false
                required:
                  - code
                  - message
                additionalProperties: false
        '404':
          description: Contract not found.
          content:
            application/json:
              schema:
                description: Contract not found.
  /v1/contracts/{id}/cancel:
    post:
      summary: Cancel contract
      tags:
        - Contracts
      description: This endpoint allows canceling a contract by id.
      parameters:
        - schema:
            type: string
            format: uuid
          in: path
          name: id
          required: true
          description: The contract id.
      x-expose-in-openapi: true
      responses:
        '200':
          description: >-
            The request was successfully processed, and the contract has been
            canceled. The response contains the details of the canceled
            contract.
          content:
            application/json:
              schema:
                type: object
                properties:
                  contract:
                    description: Schema defining the contract details.
                    type: object
                    properties:
                      id:
                        type: string
                        format: uuid
                        description: Unique identifier for the contract.
                      startDate:
                        type: string
                        format: date
                        description: Date when the contract becomes active.
                      endDate:
                        type: string
                        format: date
                        nullable: true
                        description: >-
                          Optional date when the contract expires. If null, the
                          contract has no end date.
                      billingEndDay:
                        type: number
                        minimum: 1
                        maximum: 31
                        description: Day of the month when the billing cycle ends (1-31).
                      status:
                        type: string
                        enum:
                          - active
                          - canceled
                          - completed
                          - draft
                        description: Current status of the contract.
                      plans:
                        type: array
                        items:
                          type: object
                          properties:
                            id:
                              type: string
                              format: uuid
                            name:
                              type: string
                              minLength: 1
                            description:
                              type: string
                              nullable: true
                          required:
                            - id
                            - name
                            - description
                          additionalProperties: false
                        description: >-
                          List of subscription plans associated with this
                          contract.
                      paymentSettings:
                        type: object
                        description: >-
                          Schema defining payment gateway settings for a
                          contract. Required if payment gateway is enabled.
                        properties:
                          scheduledPaymentDay:
                            type: number
                            minimum: 1
                            maximum: 31
                            description: >-
                              The specific day of the month when the payment
                              will be scheduled. For example, a value of 1 means
                              the payment will be scheduled on the 1st day of
                              the month. A value of 31 represents the last day
                              of the month, regardless of whether the month has
                              28, 30, or 31 days.
                          dueOffsetDays:
                            type: number
                            minimum: 5
                            description: >-
                              Number of days after the payment start date until
                              payment is due (minimum of 5 days).
                        required:
                          - scheduledPaymentDay
                          - dueOffsetDays
                        additionalProperties: false
                        nullable: true
                      billingSettings:
                        type: object
                        properties:
                          billingCycleMinimumAmount:
                            type: number
                            minimum: 0
                            description: Minimum amount to be charged in a billing cycle.
                        required:
                          - billingCycleMinimumAmount
                        additionalProperties: false
                        description: Contract billing settings.
                      customFields:
                        type: object
                        description: >-
                          Custom fields that can be associated with the
                          contract. The fields must be previously created in the
                          system before they can be used.
                        additionalProperties:
                          type: string
                    required:
                      - id
                      - startDate
                      - endDate
                      - billingEndDay
                      - status
                      - plans
                      - paymentSettings
                      - billingSettings
                    additionalProperties: false
                  customer:
                    type: object
                    description: Schema representing a customer.
                    properties:
                      id:
                        description: The unique identifier of the customer in our system.
                        type: string
                      externalId:
                        description: >-
                          An optional external identifier of the customer from
                          the external system, used throughout the system to
                          identify the customer. This field can not be updated.
                        type: string
                        pattern: ^[a-zA-Z0-9_-]+$
                        example: cust_1234567890abcdef
                      name:
                        description: The name of the customer.
                        type: string
                        example: Acme Inc.
                      customFields:
                        type: object
                        description: >-
                          Custom fields that can be associated with the
                          customer. The fields must be previously created in the
                          system before they can be used.
                        additionalProperties:
                          type: string
                        example:
                          custom_field_1: value1
                          custom_field_2: value2
                    required:
                      - id
                      - externalId
                      - name
                    additionalProperties: false
                  paymentAccount:
                    description: Schema representing a payment account.
                    type: object
                    properties:
                      id:
                        type: string
                        format: uuid
                        description: The unique identifier of the payment account.
                      businessName:
                        type: string
                        minLength: 1
                        description: The legal business name of the payment account holder.
                      tradeName:
                        type: string
                        minLength: 1
                        nullable: true
                        description: >-
                          The trade or "doing business as" name of the payment
                          account holder.
                      taxId:
                        type: string
                        pattern: ^\d{14}$
                        description: >-
                          The tax identification number (CNPJ) of the payment
                          account holder.
                      email:
                        type: string
                        format: email
                        nullable: true
                        description: The contact email address for the payment account.
                      address:
                        type: object
                        properties:
                          zipCode:
                            type: string
                            minLength: 8
                            maxLength: 8
                            pattern: ^[0-9]{8}$
                            description: The postal code (CEP) of the address.
                          number:
                            type: string
                            minLength: 1
                            description: The street number of the address.
                          street:
                            type: string
                            minLength: 1
                            description: The street name of the address.
                          neighborhood:
                            type: string
                            minLength: 1
                            description: The neighborhood or district of the address.
                          city:
                            type: string
                            minLength: 1
                            description: The city name of the address.
                          state:
                            type: string
                            enum:
                              - AC
                              - AL
                              - AP
                              - AM
                              - BA
                              - CE
                              - DF
                              - ES
                              - GO
                              - MA
                              - MT
                              - MS
                              - MG
                              - PA
                              - PB
                              - PR
                              - PE
                              - PI
                              - RJ
                              - RN
                              - RS
                              - RO
                              - RR
                              - SC
                              - SP
                              - SE
                              - TO
                            description: The state abbreviation of the address.
                          country:
                            type: string
                            enum:
                              - Brasil
                            description: The country code of the address.
                          complement:
                            type: string
                            nullable: true
                            description: >-
                              Additional address information like apartment
                              number, floor, etc.
                        required:
                          - zipCode
                          - number
                          - street
                          - neighborhood
                          - city
                          - state
                          - country
                          - complement
                        additionalProperties: false
                        nullable: true
                        description: >-
                          The physical address associated with the payment
                          account.
                    required:
                      - id
                      - businessName
                      - tradeName
                      - taxId
                      - email
                      - address
                    additionalProperties: false
                required:
                  - contract
                  - customer
                  - paymentAccount
                additionalProperties: false
                description: >-
                  The request was successfully processed, and the contract has
                  been canceled. The response contains the details of the
                  canceled contract.
        '400':
          description: Error object returned to the client.
          content:
            application/json:
              schema:
                description: Error object returned to the client.
                type: object
                properties:
                  message:
                    type: string
                    description: A human-readable description of the error
                  code:
                    type: string
                    description: A unique identifier for the type of error
                  details:
                    oneOf:
                      - type: object
                      - type: array
                    description: >-
                      Additional context about the error, such as invalid fields
                      or constraints. Each endpoint may include specific error
                      details in their documentation
                  causations:
                    type: array
                    description: >-
                      Optional array of error objects following the same
                      structure as the parent error. Only present when there's a
                      meaningful chain of related errors to expose
                    items:
                      type: object
                      properties:
                        message:
                          type: string
                          description: >-
                            A human-readable description of the underlying error
                            cause
                        code:
                          type: string
                          description: A unique identifier for the type of underlying error
                        details:
                          type: object
                          description: Additional context about the underlying error
                      required:
                        - message
                        - code
                      additionalProperties: false
                required:
                  - code
                  - message
                additionalProperties: false
        '404':
          description: Contract not found.
          content:
            application/json:
              schema:
                description: Contract not found.
servers:
  - url: https://api.useaira.com
    description: Public API base URL
security:
  - ApiKey: []
